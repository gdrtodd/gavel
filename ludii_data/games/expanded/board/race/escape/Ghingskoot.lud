(game "Ghingskoot" (players 2) (equipment {(board (add (merge {(shift -1.25 -0.34 (rotate 30 (rectangle 6 1))) (rectangle 1 5) (rectangle 5 1) (shift 0 6 (rectangle 5 1)) (shift 0 10 (rectangle 1 5)) (shift 7 0 (rectangle 1 5)) (shift 7 10 (rectangle 1 5)) (shift 11 0 (rectangle 5 1)) (shift 11 6 (rectangle 5 1)) (shift 12.25 5.33 (rotate 30 (rectangle 6 1)))}) edges:{{13 14} {22 28} {37 36} {9 23}}) {(track "TrackCW1" "46,5,SSE,N,E,S,W,NNW,End" P1 directed:True) (track "TrackCCW1" "46,5,SSE,E,N,W,S,NNW,End" P1 directed:True) (track "TrackCW2" "47,41,NNW,S,W,N,E,SSE,End" P2 directed:True) (track "TrackCCW2" "47,41,NNW,W,S,E,N,SSE,End" P2 directed:True)} use:Vertex) (regions "AllSites" (sites Board)) (regions "Arc" P1 (sites {1 2 3 4 5})) (regions "Arc" P2 (sites {41 42 43 44 45})) (regions "AllSitesDifferentThanArc" (difference (sites Board) (union {(sites P1 "Arc") (sites P2 "Arc") (sites {0 32})}))) (dice d:2 facesByDie:{{0 4} {0 6} {0 14} {0 15}} num:4) (piece "Marker" Each (if (= (state at:(from)) 0) (if (or (!= (from) (handSite Mover)) (and (= (from) (handSite Mover)) (all Sites (sites Mover "Arc") if:(!= (who at:(site)) Mover)))) (or (if (= (trackSite Move "TrackCW" steps:(mapEntry "Throw" (count Pips))) -2) (move Remove (from)) (if (!= (trackSite Move "TrackCW" steps:(mapEntry "Throw" (count Pips))) -1) (if (not (is Friend (who at:(trackSite Move "TrackCW" steps:(mapEntry "Throw" (count Pips)))))) (move (from) (to (trackSite Move "TrackCW" steps:(mapEntry "Throw" (count Pips))) (apply if:(is Enemy (who at:(to))) (and (set State at:(to) 0) (fromTo (from (to)) (to (handSite Next))))))))) (then (if (and (= (state at:(last To)) 0) (is In (last To) (sites "AllSitesDifferentThanArc"))) (set State at:(last To) 1)))) (if (= (trackSite Move "TrackCCW" steps:(mapEntry "Throw" (count Pips))) -2) (move Remove (from)) (if (!= (trackSite Move "TrackCCW" steps:(mapEntry "Throw" (count Pips))) -1) (if (not (is Friend (who at:(trackSite Move "TrackCCW" steps:(mapEntry "Throw" (count Pips)))))) (move (from) (to (trackSite Move "TrackCCW" steps:(mapEntry "Throw" (count Pips))) (apply if:(is Enemy (who at:(to))) (and (set State at:(to) 0) (fromTo (from (to)) (to (handSite Next))))))))) (then (if (and (= (state at:(last To)) 0) (is In (last To) (sites "AllSitesDifferentThanArc"))) (set State at:(last To) 2)))))) (if (= (if (= (state at:(from)) 2) (trackSite Move "TrackCCW" steps:(mapEntry "Throw" (count Pips))) (trackSite Move "TrackCW" steps:(mapEntry "Throw" (count Pips)))) -2) (move Remove (from)) (if (!= (if (= (state at:(from)) 2) (trackSite Move "TrackCCW" steps:(mapEntry "Throw" (count Pips))) (trackSite Move "TrackCW" steps:(mapEntry "Throw" (count Pips)))) -1) (if (not (is Friend (who at:(if (= (state at:(from)) 2) (trackSite Move "TrackCCW" steps:(mapEntry "Throw" (count Pips))) (trackSite Move "TrackCW" steps:(mapEntry "Throw" (count Pips))))))) (move (from) (to (if (= (state at:(from)) 2) (trackSite Move "TrackCCW" steps:(mapEntry "Throw" (count Pips))) (trackSite Move "TrackCW" steps:(mapEntry "Throw" (count Pips)))) (apply if:(is Enemy (who at:(to))) (and (set State at:(to) 0) (fromTo (from (to)) (to (handSite Next)))))))))))) (hand Each) (map "Throw" {(pair 0 10) (pair 39 5) (pair 24 3) (pair 25 3) (pair 35 3) (pair 33 3) (pair 10 2) (pair 18 2) (pair 19 2) (pair 20 2) (pair 21 2) (pair 29 2)})}) (rules (start (place "Marker" "Hand" count:2)) (play (do (roll) next:(or (forEach Piece) (forEach Piece container:(mover))))) (end (if (no Pieces Mover) (result Mover Win))))) 