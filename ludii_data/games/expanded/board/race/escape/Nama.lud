(game "Nama" (players 8) (equipment {(board (rectangle 100 1) (track "Track" {0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99} directed:True)) (hand Each) (hand Shared) (piece "Marker" Each (if (= (if (= (from) (handSite Mover)) (trackSite Move from:0 steps:(- (mapEntry "Throw" (count Pips)) 1)) (trackSite Move from:(from) steps:(mapEntry "Throw" (count Pips)))) -1) (move Remove (from) level:(level) (then (if (= (where "Hyena" Shared) -1) (and (add (piece "Hyena") (to 0) stack:True) (set Var (id Mover)))))) (move (from (from) level:(level)) (to (if (= (from) (handSite Mover)) (trackSite Move from:0 steps:(- (mapEntry "Throw" (count Pips)) 1)) (trackSite Move from:(from) steps:(mapEntry "Throw" (count Pips))))) stack:True))) (piece "Hyena" Shared) (dice d:2 from:0 num:4) (map "Throw" {(pair 0 0) (pair 1 0) (pair 2 2) (pair 3 0) (pair 4 20)})}) (rules (start (place "Marker" "Hand")) (play (do (roll) next:(if (< 0 (mapEntry "Throw" (count Pips))) (if (= (var) (id Mover)) (if (= (trackSite Move from:(where "Hyena" Shared) steps:(* 2 (mapEntry "Throw" (count Pips)))) -1) (move Remove (where "Hyena" Shared) (then (forEach Site (sites Board) (if (is Occupied (site)) (remove (site) count:(size Stack at:(site))))))) (move (from (where "Hyena" Shared)) (to (trackSite Move from:(where "Hyena" Shared) steps:(* 2 (mapEntry "Throw" (count Pips))))) (then (forEach Value min:1 max:(- (* 2 (mapEntry "Throw" (count Pips))) 1) (if (is Occupied (trackSite Move from:(last From) steps:(value))) (remove (trackSite Move from:(last From) steps:(value)) count:(size Stack at:(trackSite Move from:(last From) steps:(value))))))))) (or (forEach Piece) (forEach Piece container:(mover))))))) (end {(forEach Player if:(and {(> (var) 0) (!= (player) (var)) (= (where "Hyena" Shared) -1)}) (result Player Loss)) (if (and (= (id Mover) (var)) (= (where "Hyena" Shared) -1)) (result Mover Win)) (forEach Player if:(and (!= (player) (var)) (no Pieces of:(player))) (result Player Loss))}))) 