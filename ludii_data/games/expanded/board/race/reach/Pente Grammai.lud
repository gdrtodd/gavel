(game "Pente Grammai" (players 2) (equipment {(board (add (scale 1.5 (merge {(shift 2 0 (rectangle 2 1)) (shift 1.5 0 (rectangle 2 1)) (shift 1 0 (rectangle 2 1)) (shift 0.5 0 (rectangle 2 1)) (rectangle 2 1)})) vertices:{{1.5 0.75}}) {(track "Track1" "8,6,4,2,0,1,3,5,7,9" loop:True P1) (track "Track2" "1,3,5,7,9,8,6,4,2,0" loop:True P2)} use:Vertex) (piece "Marker" Each (if (and (!= (from) 10) (is Empty (trackSite Move steps:(count Pips)))) (move (from) (to (trackSite Move steps:(count Pips)))))) (hand Each) (dice d:6 num:1) (map "Goal" {(pair P1 5) (pair P2 4)})}) (rules (start {(place Stack "Marker1" (handSite P1) count:5) (place Stack "Marker2" (handSite P2) count:5)}) (play (do (roll) next:(priority {(if (and (not (all Sites (sites Hand Mover) if:(= 0 (count Cell at:(site))))) (is Empty (trackSite Move from:(handSite Mover) steps:(- (count Pips) 1)))) (move (from (handSite Mover)) (to (trackSite Move from:(handSite Mover) steps:(- (count Pips) 1))))) (forEach Piece)} (then (if (= (mapEntry "Goal" Mover) (last To)) (fromTo (from (last To)) (to 10))))))) (end (if (all Sites (sites Occupied by:Mover) if:(= (site) 10)) (result Mover Win))))) 