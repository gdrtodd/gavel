(game "Zohn Ahl" (players 4) (equipment {(board (graph vertices:{{0 0} {1 0.4} {2 0.4} {3 0.4} {4 0} {5 0} {6 0.4} {7 0.4} {8 0.4} {9 0} {4 1} {5 1} {-6 3} {-5.6 4} {-5.6 5} {-5.6 6} {-6 7} {-6 8} {-5 7} {-5 8} {-5.6 9} {-5.6 10} {-5.6 11} {-6 12} {0 15} {1 14.6} {2 14.6} {3 14.6} {4 15} {5 15} {6 14.6} {7 14.6} {8 14.6} {9 15} {4 14} {5 14} {15 3} {14.6 4} {14.6 5} {14.6 6} {15 7} {15 8} {14 7} {14 8} {14.6 9} {14.6 10} {14.6 11} {15 12}} edges:{{0 12} {23 24} {33 47} {36 9} {4 10} {5 11} {16 18} {17 19} {28 34} {35 29} {43 41} {42 40}}) {(track "Track1" "5,6,7,8,9,36,37,38,39,40,41,44,45,46,47,33,32,31,30,29,28,27,26,25,24,23,22,21,20,17,16,15,14,13,12,0,1,2,3,End" P1 directed:True) (track "Track2" "5,6,7,8,9,36,37,38,39,40,41,44,45,46,47,33,32,31,30,29,28,27,26,25,24,23,22,21,20,17,16,15,14,13,12,0,1,2,3,End" P2 directed:True) (track "Track3" "4,3,2,1,0,12,13,14,15,16,17,20,21,22,23,24,25,26,27,28,29,30,31,32,33,47,46,45,44,41,40,39,38,37,36,9,8,7,6,End" P3 directed:True) (track "Track4" "4,3,2,1,0,12,13,14,15,16,17,20,21,22,23,24,25,26,27,28,29,30,31,32,33,47,46,45,44,41,40,39,38,37,36,9,8,7,6,End" P4 directed:True)} use:Vertex) (piece "Stick" P1 (if (= (trackSite Move from:(from) steps:(mapEntry "Throw" (count Pips))) -2) (move (from (from)) (to (mapEntry "Start" Mover)) (then (fromTo (from (handSite (if (or (is Mover P1) (is Mover P2)) 3 1))) (to (handSite (if (or (is Mover P1) (is Mover P2)) 1 3)))))) (move (from (from)) (to (trackSite Move from:(from) steps:(mapEntry "Throw" (count Pips))) if:True (apply (if (is Enemy (who at:(to))) (and (fromTo (from (to)) (to (mapEntry "Start" (who at:(to))))) (fromTo (from (handSite (if (or (is Mover P1) (is Mover P2)) 3 1))) (to (handSite (if (or (is Mover P1) (is Mover P2)) 1 3)))))))) (then (if (= (last To) (mapEntry "Opposite" Mover)) (and (fromTo (from (last To)) (to (mapEntry "Start" Mover))) (fromTo (from (handSite (if (or (is Mover P1) (is Mover P2)) 1 3))) (to (handSite (if (or (is Mover P1) (is Mover P2)) 3 1)))))))))) (piece "Stick" P3 (if (= (trackSite Move from:(from) steps:(mapEntry "Throw" (count Pips))) -2) (move (from (from)) (to (mapEntry "Start" Mover)) (then (fromTo (from (handSite (if (or (is Mover P1) (is Mover P2)) 3 1))) (to (handSite (if (or (is Mover P1) (is Mover P2)) 1 3)))))) (move (from (from)) (to (trackSite Move from:(from) steps:(mapEntry "Throw" (count Pips))) if:True (apply (if (is Enemy (who at:(to))) (and (fromTo (from (to)) (to (mapEntry "Start" (who at:(to))))) (fromTo (from (handSite (if (or (is Mover P1) (is Mover P2)) 3 1))) (to (handSite (if (or (is Mover P1) (is Mover P2)) 1 3)))))))) (then (if (= (last To) (mapEntry "Opposite" Mover)) (and (fromTo (from (last To)) (to (mapEntry "Start" Mover))) (fromTo (from (handSite (if (or (is Mover P1) (is Mover P2)) 1 3))) (to (handSite (if (or (is Mover P1) (is Mover P2)) 3 1)))))))))) (piece "Stick" Neutral) (dice d:2 from:0 num:4) (hand P1) (hand P3) (map "Throw" {(pair 0 10) (pair 1 1) (pair 2 2) (pair 3 3) (pair 4 5)}) (map "Opposite" {(pair P1 29) (pair P2 29) (pair P3 28) (pair P4 28)}) (map "Start" {(pair P1 5) (pair P2 5) (pair P3 4) (pair P4 4)})}) (rules (start {(set Team 1 {P1 P2}) (set Team 2 {P3 P4}) (place "Stick1" 5) (place "Stick3" 4) (place "Stick0" (handSite P1) count:10) (place "Stick0" (handSite P3) count:10)}) (play (do (roll) next:(if (or (is Mover P1) (is Mover P2)) (forEach Piece P1) (forEach Piece P3)) (then (if (or (= (mapEntry "Throw" (count Pips)) 5) (= (mapEntry "Throw" (count Pips)) 10)) (moveAgain))))) (end (if (is Empty (handSite (if (or (is Mover P1) (is Mover P2)) 3 1))) (result TeamMover Win))))) 