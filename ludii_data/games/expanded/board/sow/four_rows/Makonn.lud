(game "Makonn" (players 2) (equipment {(mancalaBoard 4 10 store:None {(track "Track1" "0,E,N1,W" loop:True P1) (track "Track2" "20,E,N1,W" loop:True P2)}) (regions "Home" P1 (sites Track "Track1")) (regions "Home" P2 (sites Track "Track2")) (regions "Inner" P1 (difference (sites Track "Track1") (sites Bottom))) (regions "Inner" P2 (difference (sites Track "Track2") (sites Top))) (piece "Seed" Shared)}) (rules (start (set Count 1 to:(union (sites P1 "Home") (sites P2 "Home")))) phases:{(phase "Rearrangement" (play (or (move (from (sites Mover "Home") if:(is Occupied (from))) (to (sites Mover "Home") if:(!= (from) (to))) (then (and (if (and {(!= 1 (value Player Mover)) (is In (last To) (sites Mover "Inner")) (= 1 (count at:(last To)))}) (if (is Occupied (if (is Mover P1) (+ (last To) 10) (- (last To) 10))) (and {(set Value Mover 1) (remove (if (is Mover P1) (+ (last To) 10) (- (last To) 10))) (if (is Occupied (if (is Mover P1) (+ (last To) (* 10 2)) (- (last To) (* 10 2)))) (remove (if (is Mover P1) (+ (last To) (* 10 2)) (- (last To) (* 10 2)))))}))) (moveAgain)))) (move Pass))) (nextPhase Mover (was Pass) "Sowing")) (phase "Sowing" (play (move Select (from (if (is Prev Mover) (sites {(var "Replay")}) (sites Mover "Home")) if:(if (is Prev Mover) True (if (all Sites (sites Mover "Home") if:(>= 1 (count at:(site)))) (is Occupied (from)) (< 1 (count at:(from)))))) (then (sow "Track" owner:(mover) apply:(if (< 1 (count at:(to))) (and (set Var "Replay" (to)) (moveAgain)) (if (is Occupied (if (is Mover P1) (+ (to) 10) (- (to) 10))) (and (remove (if (is Mover P1) (+ (to) 10) (- (to) 10))) (if (is Occupied (if (is Mover P1) (+ (to) (* 10 2)) (- (to) (* 10 2)))) (remove (if (is Mover P1) (+ (to) (* 10 2)) (- (to) (* 10 2)))))))))))))} (end (if (all Sites (sites Next "Home") if:(= 0 (count at:(site)))) (result Next Loss))))) 