(game "Mwendo" (players 4) (equipment {(mancalaBoard 4 10 store:None (track "Track" "10,N,E,S,W" loop:True)) (piece "Seed" Each) (regions P1 (sites {0 1 2 3 4 5})) (regions P2 (sites {6 7 8 9 19 29})) (regions P3 (sites {39 38 37 36 35 34})) (regions P4 (sites {33 32 31 30 20 10}))}) (rules (start {(place "Seed1" (sites P1) counts:{3}) (place "Seed2" (sites P2) counts:{3}) (place "Seed3" (sites P3) counts:{3}) (place "Seed4" (sites P4) counts:{3})}) (play (if (!= 1 (count Pieces Mover)) (or (move Select (from (trackSite FirstSite from:(trackSite FirstSite if:(not (is Mover (who at:(to))))) if:(is Mover (who at:(to))))) (then (sow numPerHole:(if (is Empty (to)) 2 1) sowEffect:(if (and (!= (mover) (what at:(to))) (is Occupied (to))) (and (remove (to) count:(count at:(to))) (add (piece (id "Seed" Mover)) (to (to)) count:(count at:(to))))) apply:(if (= 2 (count at:(to))) (moveAgain))))) (if (not (is Prev Mover)) (move (from (trackSite FirstSite from:(trackSite FirstSite if:(not (is Mover (who at:(to))))) if:(is Mover (who at:(to))))) (to (trackSite Move from:(trackSite FirstSite from:(trackSite FirstSite if:(not (is Mover (who at:(to))))) if:(is Mover (who at:(to)))) steps:1) (apply (if (and (!= (mover) (what at:(to))) (is Occupied (to))) (and (remove (to) count:(count at:(to))) (add (piece (id "Seed" Mover)) (to (to)) count:(count at:(to))))))) count:(count at:(trackSite FirstSite from:(trackSite FirstSite if:(not (is Mover (who at:(to))))) if:(is Mover (who at:(to)))))))) (move (from (trackSite FirstSite from:(trackSite FirstSite if:(not (is Mover (who at:(to))))) if:(is Mover (who at:(to))))) (to (trackSite FirstSite from:(from) if:(is Enemy (who at:(to)))) (apply (and (remove (to) count:(count at:(to))) (add (piece (id "Seed" Mover)) (to (to)) count:(count at:(to))))))))) (end (forEach NonMover if:(no Pieces Player) (result Player Loss))))) 