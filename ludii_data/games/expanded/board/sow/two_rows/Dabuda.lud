(game "Dabuda" (players 2) (equipment {(mancalaBoard 2 10 store:None (track "Track" "0,E,N,W" loop:True)) (regions "Home" P1 (sites Bottom)) (regions "Home" P2 (sites Top)) (regions "RightMost" P1 (sites {6 7 8 9})) (regions "RightMost" P2 (sites {10 11 12 13})) (piece "Seed" Shared) (hand Each)}) (rules (start (set Count 4 to:(sites Track))) phases:{(phase "Rightmost" (play (move Select (from (if (is Prev Mover) (sites {(last To afterConsequence:True)}) (sites Mover "RightMost")) if:(> (count at:(from)) 0)) (then (sow apply:(if (and {(is In (to) (sites Mover "Home")) (= (count at:(to)) 1) (> (count at:(if (is Mover P1) (+ (to) 10) (- (to) 10))) 0)}) (and (fromTo (from (if (is Mover P1) (+ (to) 10) (- (to) 10))) (to (handSite Mover)) count:(count at:(if (is Mover P1) (+ (to) 10) (- (to) 10)))) (fromTo (from (to)) (to (handSite Mover)) count:1)) (if (> (count at:(to)) 1) (moveAgain))))))) (nextPhase (= (count Turns) 2) "HomePhase")) (phase "HomePhase" (play (move Select (from (if (is Prev Mover) (sites {(last To afterConsequence:True)}) (sites Mover "Home")) if:(> (count at:(from)) 0)) (then (sow apply:(if (and {(is In (to) (sites Mover "Home")) (= (count at:(to)) 1) (> (count at:(if (is Mover P1) (+ (to) 10) (- (to) 10))) 0)}) (and (fromTo (from (if (is Mover P1) (+ (to) 10) (- (to) 10))) (to (handSite Mover)) count:(count at:(if (is Mover P1) (+ (to) 10) (- (to) 10)))) (fromTo (from (to)) (to (handSite Mover)) count:1)) (if (> (count at:(to)) 1) (moveAgain))))))))} (end (if (no Moves Mover) (byScore {(score P1 (+ (count Cell at:(handSite P1)) (count in:(sites P1 "Home")))) (score P2 (+ (count Cell at:(handSite P2)) (count in:(sites P2 "Home"))))}))))) 