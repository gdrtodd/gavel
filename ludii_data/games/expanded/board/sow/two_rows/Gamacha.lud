(game "Gamacha" (players 2) (equipment {(mancalaBoard 2 12 store:None (track "Track" "0,E,N,W" loop:True)) (piece "Seed" Shared) (regions P1 (sites Bottom)) (regions P2 (sites Top)) (hand Each)}) (rules (start (set Count 4 to:(sites {"C1" "E1" "G1" "I1" "K1" "L2" "J2" "H2" "F2" "D2" "B2"}))) phases:{(phase "Opening" (play (move (from 6) (to 18) count:4)) (nextPhase "Sowing")) (phase "Sowing" (play (move Select (from (if (is Prev Mover) (sites {(last To afterConsequence:True)}) (sites Mover)) if:(if (is Prev Mover) True (and (> (count at:(from)) 0) (if (is In (trackSite Move from:(from) steps:(count at:(from))) (sites Next)) True (is Empty (trackSite Move from:(from) steps:(count at:(from)))))))) (then (sow apply:(if (and (is In (to) (sites Mover)) (<= (count at:(to)) 1)) (if (!= 0 (count at:(if (is Mover P1) (+ (to) 12) (- (to) 12)))) (fromTo (from (if (is Mover P1) (+ (to) 12) (- (to) 12))) (to (handSite Mover)) count:(count at:(if (is Mover P1) (+ (to) 12) (- (to) 12))))) (if (> (count at:(to)) 1) (moveAgain))))))))} (end (forEach Player if:(all Sites (sites Player) if:(= 0 (count at:(site)))) (result Player Loss))))) 