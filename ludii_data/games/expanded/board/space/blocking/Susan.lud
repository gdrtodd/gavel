(game "Susan" (players 2) (equipment {(board (hex 5)) (piece "Marker" Each (move Step Orthogonal (to if:(is Empty (to)))))}) (rules (play (or (move Add (to (sites Empty)) (then (set Counter))) (forEach Piece) (then (priority (surround (from (last To)) Orthogonal (between if:(is Friend (who at:(between))) (apply (trigger "Surrounded" (mover)))) (to if:(is Occupied (to)))) (surround (from (last To)) Orthogonal (between if:(is Enemy (who at:(between))) (apply (trigger "Surrounded" (next)))) (to if:(is Occupied (to)))))))) (end {(if (= (counter) 5) (result Mover Draw)) (if (= (count Sites in:(sites Around (last To) if:(is Empty (to)))) 0) (result Next Win)) (if (is Triggered "Surrounded" P1) (result P2 Win)) (if (is Triggered "Surrounded" P2) (result P1 Win))}))) 