(game "Unlur" (players 2) (equipment {(board (hex 6)) (piece "Disc" Each)}) (rules phases:{(phase "Opening" (play (or (move Add (piece (id "Disc" P2)) (to (intersection (sites Empty) (sites Inner)))) (move Pass (then (if (is Mover P1) (swap Players P1 P2 (then (note "Player 1 is now Black. Player 2 is now White." to:All))) (note "Player 1 remains White. Player 2 remains Black." to:All) (then (do (set NextPlayer (player 1)) next:(set Var 1)))))))) (nextPhase (= 1 (var)) "Playing")) (phase "Playing" (play (move Add (to (sites Empty)))))} (end {(if (and {(= 1 (var)) (= (id P1) (mover)) (or (is Connected {(sites Side S) (sites Side NW) (sites Side NE)}) (is Connected {(sites Side N) (sites Side SW) (sites Side SE)})) (not (or {(is Connected {(sites Side S) (sites Side N)}) (is Connected {(sites Side SW) (sites Side NE)}) (is Connected {(sites Side SE) (sites Side NW)})}))}) (result P1 Loss)) (if (and {(= 1 (var)) (= (id P2) (mover)) (or {(is Connected {(sites Side S) (sites Side N)}) (is Connected {(sites Side SW) (sites Side NE)}) (is Connected {(sites Side SE) (sites Side NW)})}) (not (or (is Connected {(sites Side S) (sites Side NW) (sites Side NE)}) (is Connected {(sites Side N) (sites Side SW) (sites Side SE)})))}) (result P2 Loss)) (if (and {(= 1 (var)) (= (id P1) (mover)) (or {(is Connected {(sites Side S) (sites Side N)}) (is Connected {(sites Side SW) (sites Side NE)}) (is Connected {(sites Side SE) (sites Side NW)})})}) (result P1 Win)) (if (and {(= 1 (var)) (= (id P2) (mover)) (or (is Connected {(sites Side S) (sites Side NW) (sites Side NE)}) (is Connected {(sites Side N) (sites Side SW) (sites Side SE)}))}) (result P2 Win))}))) 