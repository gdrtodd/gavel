(game "Hermit" (players 2) (equipment {(board (tri Hexagon 5) use:Vertex) (piece "Marker" Each) (piece "Marker" Neutral)}) (rules (start {(set Score P1 0) (set Score P2 0)}) (play (do (move Add (to (sites Empty))) ifAfterwards:(or {(= 1 (size Group at:(last To) Orthogonal)) (= 3 (size Group at:(last To) Orthogonal)) (= 5 (size Group at:(last To) Orthogonal))}) (then (addScore Mover (- (+ {(* 10000 (count Groups Orthogonal if:(= (who at:(to)) (mover)))) (* 100 (- (count Groups Orthogonal if:(= (who at:(to)) (mover))) (count Groups Orthogonal if:(= (who at:(to)) (mover)) min:3))) (- (- (count Groups Orthogonal if:(= (who at:(to)) (mover))) (count Groups Orthogonal if:(= (who at:(to)) (mover)) min:5)) (- (count Groups Orthogonal if:(= (who at:(to)) (mover))) (count Groups Orthogonal if:(= (who at:(to)) (mover)) min:3)))}) (score Mover)))))) (end (if (all Passed) {(if (> (+ {(* 10000 (count Groups Orthogonal if:(= (who at:(to)) P1))) (* 100 (- (count Groups Orthogonal if:(= (who at:(to)) P1)) (count Groups Orthogonal if:(= (who at:(to)) P1) min:3))) (- (- (count Groups Orthogonal if:(= (who at:(to)) P1)) (count Groups Orthogonal if:(= (who at:(to)) P1) min:5)) (- (count Groups Orthogonal if:(= (who at:(to)) P1)) (count Groups Orthogonal if:(= (who at:(to)) P1) min:3)))}) (+ {(* 10000 (count Groups Orthogonal if:(= (who at:(to)) P2))) (* 100 (- (count Groups Orthogonal if:(= (who at:(to)) P2)) (count Groups Orthogonal if:(= (who at:(to)) P2) min:3))) (- (- (count Groups Orthogonal if:(= (who at:(to)) P2)) (count Groups Orthogonal if:(= (who at:(to)) P2) min:5)) (- (count Groups Orthogonal if:(= (who at:(to)) P2)) (count Groups Orthogonal if:(= (who at:(to)) P2) min:3)))})) (result P1 Win)) (if (< (+ {(* 10000 (count Groups Orthogonal if:(= (who at:(to)) P1))) (* 100 (- (count Groups Orthogonal if:(= (who at:(to)) P1)) (count Groups Orthogonal if:(= (who at:(to)) P1) min:3))) (- (- (count Groups Orthogonal if:(= (who at:(to)) P1)) (count Groups Orthogonal if:(= (who at:(to)) P1) min:5)) (- (count Groups Orthogonal if:(= (who at:(to)) P1)) (count Groups Orthogonal if:(= (who at:(to)) P1) min:3)))}) (+ {(* 10000 (count Groups Orthogonal if:(= (who at:(to)) P2))) (* 100 (- (count Groups Orthogonal if:(= (who at:(to)) P2)) (count Groups Orthogonal if:(= (who at:(to)) P2) min:3))) (- (- (count Groups Orthogonal if:(= (who at:(to)) P2)) (count Groups Orthogonal if:(= (who at:(to)) P2) min:5)) (- (count Groups Orthogonal if:(= (who at:(to)) P2)) (count Groups Orthogonal if:(= (who at:(to)) P2) min:3)))})) (result P2 Win))} (result Mover Win))))) 