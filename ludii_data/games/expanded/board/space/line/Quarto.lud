(game "Quarto" (players 2) (equipment {(board (square 4) use:Vertex) (piece "Disc" Each) (piece "Square" Each) (hand Shared size:16)}) (rules (start {(place "Disc1" (handSite Shared 0)) (place "Disc1" (handSite Shared 1) value:1) (place "Disc1" (handSite Shared 2) state:1) (place "Disc1" (handSite Shared 3) state:1 value:1) (place "Disc2" (handSite Shared 4)) (place "Disc2" (handSite Shared 5) value:1) (place "Disc2" (handSite Shared 6) state:1) (place "Disc2" (handSite Shared 7) state:1 value:1) (place "Square1" (handSite Shared 8)) (place "Square1" (handSite Shared 9) value:1) (place "Square1" (handSite Shared 10) state:1) (place "Square1" (handSite Shared 11) state:1 value:1) (place "Square2" (handSite Shared 12)) (place "Square2" (handSite Shared 13) value:1) (place "Square2" (handSite Shared 14) state:1) (place "Square2" (handSite Shared 15) state:1 value:1)}) phases:{(phase "Select" (play (move Select (from Cell (difference (sites Hand Shared) (sites Empty 1))))) (nextPhase "Place")) (phase "Place" (play (move (from Cell (last From)) (to (sites Empty)) (then (moveAgain)))) (end {(if (is Line 4 All whats:{(id "Disc" P1) (id "Disc" P2)}) (result Mover Win)) (if (is Line 4 All whats:{(id "Square" P1) (id "Square" P2)}) (result Mover Win)) (if (is Line 4 All P1) (result Mover Win)) (if (is Line 4 All P2) (result Mover Win)) (if (is Line 4 All whats:{(id "Disc" P1) (id "Disc" P2) (id "Square" P1) (id "Square" P2)} if:(= 0 (state at:(to)))) (result Mover Win)) (if (is Line 4 All whats:{(id "Disc" P1) (id "Disc" P2) (id "Square" P1) (id "Square" P2)} if:(= 1 (state at:(to)))) (result Mover Win)) (if (is Line 4 All whats:{(id "Disc" P1) (id "Disc" P2) (id "Square" P1) (id "Square" P2)} if:(= 0 (value Piece at:(to)))) (result Mover Win)) (if (is Line 4 All whats:{(id "Disc" P1) (id "Disc" P2) (id "Square" P1) (id "Square" P2)} if:(= 1 (value Piece at:(to)))) (result Mover Win))}) (nextPhase "Select"))})) 