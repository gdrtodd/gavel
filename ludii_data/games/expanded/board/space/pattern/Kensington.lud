(game "Kensington" (players 2) (equipment {(board (rotate 90 (tiling T3464 2)) use:Vertex) (hand Each) (piece "Marker" Each (move Step (to if:(is Empty (to))))) (regions "HexA" P1 (sites Cell "E4")) (regions "HexB" P1 (sites Cell "I4")) (regions "HexA" P2 (sites Cell "E12")) (regions "HexB" P2 (sites Cell "I12")) (regions "HexNeutral1" (sites Cell "C8")) (regions "HexNeutral2" (sites Cell "G8")) (regions "HexNeutral3" (sites Cell "K8"))}) (rules (start (place "Marker" "Hand" count:15)) (play (if (is Prev Mover) (move (from (sites Occupied by:Next container:"Board")) (to (sites Empty) (apply if:(is Pending) (moveAgain)))) (if (all Sites (sites Hand Mover) if:(= 0 (count Cell at:(site)))) (forEach Piece) (move (from (handSite Mover)) (to (sites Empty))) (then (forEach Site (sites Incident Cell of:Vertex at:(last To)) (if (= (count Sites in:(intersection (sites Incident Vertex of:Cell at:(site)) (sites Occupied by:Mover))) (count Sites in:(sites Incident Vertex of:Cell at:(site)))) (if (= 6 (count Sites in:(sites Incident Vertex of:Cell at:(site)))) (if (or {(= (sites Incident Vertex of:Cell at:(site)) (sites Mover "HexA")) (= (sites Incident Vertex of:Cell at:(site)) (sites Mover "HexB")) (= (sites Incident Vertex of:Cell at:(site)) (sites "HexNeutral1")) (= (sites Incident Vertex of:Cell at:(site)) (sites "HexNeutral2")) (= (sites Incident Vertex of:Cell at:(site)) (sites "HexNeutral3"))}) (trigger "Lose" Next)) (and (if (= 4 (count Sites in:(sites Incident Vertex of:Cell at:(site)))) (set Pending)) (moveAgain))))))))) (end (if (is Triggered "Lose" Next) (result Mover Win))))) 