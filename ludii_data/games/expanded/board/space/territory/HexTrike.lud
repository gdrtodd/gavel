(game "HexTrike" (players 2) (equipment {(board (hex Hexagon 7)) (piece "Ball" Each)}) (rules (meta (swap)) phases:{(phase "Opening" P1 (play (move Add (to (sites Empty)) (then (set Var (last To))))) (nextPhase)) (phase "Play" (play (move Add (to (sites LineOfSight Empty at:(var))) (then (set Var (last To))))))} (end {(if (no Moves Next) {(if (> (count Sites in:(intersection (sites Around (last To)) (sites Occupied by:P1))) (count Sites in:(intersection (sites Around (last To)) (sites Occupied by:P2)))) (result P1 Win)) (if (> (count Sites in:(intersection (sites Around (last To)) (sites Occupied by:P2))) (count Sites in:(intersection (sites Around (last To)) (sites Occupied by:P1)))) (result P2 Win)) (if (and (= (count Sites in:(intersection (sites Around (last To)) (sites Occupied by:P1))) (count Sites in:(intersection (sites Around (last To)) (sites Occupied by:P2)))) (is Mover P1)) (result P1 Win)) (if (and (= (count Sites in:(intersection (sites Around (last To)) (sites Occupied by:P1))) (count Sites in:(intersection (sites Around (last To)) (sites Occupied by:P2)))) (is Mover P2)) (result P2 Win))})}))) 