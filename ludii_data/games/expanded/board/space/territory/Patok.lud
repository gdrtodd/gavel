(game "Patok" (players 2) (equipment {(board (square 19) use:Vertex) (piece "Marker" Each) (regions "MarkedSites" (sites {"D4" "D7" "D10" "D13" "D16" "G4" "G16" "J4" "J10" "J16" "M4" "M16" "P4" "P7" "P10" "P13" "P16"}))}) (rules phases:{(phase "MarkedPlacement" (play (move Add (to (intersection (sites Empty) (sites "MarkedSites"))))) (nextPhase (= 0 (count Sites in:(intersection (sites "MarkedSites") (sites Empty)))) "Playing")) (phase "Playing" (play (do (move Add (to (sites Empty)) (then (enclose (from (last To)) Orthogonal (between if:(is Enemy (who at:(between))) (apply (and (addScore Mover 1) (remove (between))))) numException:1))) ifAfterwards:(> (count Liberties Orthogonal) 0))) (end (if (no Moves Next) (byScore {(score P1 (+ (score P1) (size Territory P1))) (score P2 (+ (score P2) (size Territory P2)))}))))})) 