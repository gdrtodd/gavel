(game "Phantom Go" (players 2) (equipment {(board (square 9) use:Vertex) (piece "Marker" Each)}) (rules (play (or (move Select (from (union (sites Empty) (sites Hidden to:Mover))) (then (priority {(if (not (is In (last To) (sites Empty))) (and {(note player:Mover "made an illegal move") (note player:Mover "to play") (moveAgain)})) (do (add (to (last To)) (then (and {(enclose (from (last To)) Orthogonal (between if:(is Enemy (who at:(between))) (apply (and (addScore Mover 1) (remove (between)))))) (set Hidden at:(last To) to:Next) (note player:Mover "has moved") (note player:Next "to play")}))) ifAfterwards:(> (count Liberties Orthogonal) 0)) (and {(note player:Mover "made an illegal move") (note player:Mover "to play") (moveAgain)})}))) (move Pass))) (end (if (all Passed) (byScore {(score P1 (+ (score P1) (size Territory P1))) (score P2 (+ (score P2) (size Territory P2)))}))))) 