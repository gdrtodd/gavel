(game "Awithlaknakwe" (players {(player N) (player E) (player S) (player W)}) (equipment {(board (merge (merge (merge (merge (square 13 diagonals:Solid) (shift 3 -1 (rectangle 2 7 diagonals:Solid))) (shift 3 12 (rectangle 2 7 diagonals:Solid))) (shift -3.5 5.5 (rotate 90 (rectangle 2 7 diagonals:Solid)))) (shift 9.5 5.5 (rotate 90 (rectangle 2 7 diagonals:Solid)))) use:Vertex) (piece "Counter" Each (move Step (directions {FR FL}) (to if:(is Empty (to))))) (piece "DoubleCounter" Each (move Step (directions {Rightward Forwards Leftward}) (to if:(is Empty (to))))) (regions "Home" P1 (sites {"D9" "E8" "F7" "G6" "H5" "I4"})) (regions "Home" P2 (sites {"I22" "H21" "G20" "F19" "E18" "D17"})) (regions "Home" P3 (sites {"Q22" "R21" "S20" "T19" "U18" "V17"})) (regions "Home" P4 (sites {"V9" "U8" "T7" "S6" "R5" "Q4"})) (hand Each)}) (rules (start {(set Team 1 {P1 P4}) (set Team 2 {P2 P3}) (place "Counter1" (sites P1)) (place "Counter2" (sites P2)) (place "Counter3" (sites P3)) (place "Counter4" (sites P4)) (place "DoubleCounter" "Hand")}) (play (forEach Piece (then (custodial (from (last To)) Orthogonal (between (max 1) if:(is Enemy (who at:(between))) (apply (and {(remove (between)) (if (not (all Sites (sites Hand Mover) if:(= 0 (count Cell at:(site))))) (fromTo (from (handSite Mover)) (to (between)))) (addScore Mover 1)}))) (to if:(is Friend (who at:(to)))))))) (end (if (and (all Sites (union (sites Occupied by:P1) (sites Occupied by:P4)) if:(is In (site) (union (sites P2) (sites P3)))) (all Sites (union (sites Occupied by:P2) (sites Occupied by:P3)) if:(is In (site) (union (sites P1) (sites P4))))) {(if (> (+ (score P1) (score P4)) (+ (score P2) (score P3))) (result Team1 Win)) (if (< (+ (score P1) (score P4)) (+ (score P2) (score P3))) (result Team2 Win)) (if (= (+ (score P1) (score P4)) (+ (score P2) (score P3))) (result Mover Draw))})))) 