(game "Fetach" (players {(player N) (player S)}) (equipment {(board (rectangle 5 5 diagonals:Alternating) use:Vertex) (piece "Counter" Each (or {(move Step (if (!= 0 (count Moves)) (difference Adjacent Backwards) Forwards) (to if:(is Empty (to))) (then (if (is In (last To) (sites Next)) (promote (last To) (piece "DoubleCounter") Mover)))) (move Hop (difference Adjacent Backwards) (between if:(is Enemy (who at:(between))) (apply (remove (between)))) (to if:(is Empty (to))) (then (if (is In (last To) (sites Next)) (promote (last To) (piece "DoubleCounter") Mover))))})) (piece "DoubleCounter" Each (or {(move Step Adjacent (to if:(is Empty (to)))) (move Hop Adjacent (between if:(is Enemy (who at:(between))) (apply (remove (between)))) (to if:(is Empty (to)))) (move Hop (from (from) if:(is In (from) (union (sites Direction from:4 NW included:True) (sites Direction from:0 NE included:True)))) Adjacent (between before:(count Rows) after:(count Rows) if:(and (is Enemy (who at:(between))) (is In (between) (union (sites Direction from:4 NW included:True) (sites Direction from:0 NE included:True)))) (apply (remove (between)))) (to if:(and (is Empty (to)) (is In (to) (union (sites Direction from:4 NW included:True) (sites Direction from:0 NE included:True))))))})) (regions P1 (sites Bottom)) (regions P2 (sites Top))}) (rules (start {(place "Counter1" (union {(expand (sites Bottom)) (sites {"D3" "E3"})})) (place "Counter2" (union {(sites {"A3" "B3"}) (expand (sites Top))}))}) (play (forEach Piece)) (end (if (no Pieces Next) (result Next Loss))))) 