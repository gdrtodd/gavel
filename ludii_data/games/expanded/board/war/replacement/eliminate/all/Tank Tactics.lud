(game "Tank Tactics" (players 2) (equipment {(board (rectangle 5 10)) (hand Each) (piece "Tank" Each (or {(move Step (to if:(is Empty (to))) (then (if (> (score Mover) 1) (and (addScore Mover -1) (moveAgain))))) (move Select (from) (to (intersection (sites Occupied by:Enemy container:"Board") (sites Distance from:(from) (range 1 (state at:(from)))))) (then (and (if (= (value Piece at:(last To)) 1) (remove (last To)) (set Value at:(last To) (- (value Piece at:(last To)) 1))) (if (> (score Mover) 1) (and (addScore Mover -1) (moveAgain)))))) (move Select (from) (to (intersection (sites Occupied by:Enemy container:"Board") (sites Distance from:(from) (range 1 (state at:(from)))))) (then (and (addScore (player (who at:(last To))) 1) (if (> (score Mover) 1) (and (addScore Mover -1) (moveAgain)))))) (move Select (from) (to) (then (and (if (< (state at:(last To)) 100) (set State at:(last To) (+ 1 (state at:(last To))))) (if (> (score Mover) 1) (and (addScore Mover -1) (moveAgain))))))}) maxState:100)}) (rules (meta (passEnd NoEnd)) (start {(set Score Each 1) (place "Tank1" (handSite P1) state:2 value:3) (place "Tank2" (handSite P2) state:2 value:3)}) phases:{(phase "Placement" (play (move (from (handSite Mover)) (to (sites Empty)))) (nextPhase Mover (all Sites (sites Hand Mover) if:(= 0 (count Cell at:(site)))) "Movement")) (phase "Movement" (play (or (forEach Piece) (move Pass (then (addScore Mover 1))))))} (end (forEach NonMover if:(no Pieces Player) (result Player Loss))))) 