(game "Astralesce and Constellation" (players 2) (equipment {(board (hex Hexagon 5) use:Cell) (piece "Disc" Each)}) (rules (start {(place "Disc1" {7 12 15 21 24 28 31 38 41 44 47 52}) (place "Disc2" {8 13 16 19 22 29 32 36 39 45 48 53})}) (play (forEach Piece (do (set Var "MaxSizeFrom" (max 1 (max (results from:(from) to:(sites To (move Hop Orthogonal (between (min 0) if:(or {(= (from) (between)) (is Next (who at:(between))) (is Empty (between))})) (to (sites Inner) if:(is Mover (who at:(to)))))) (size Group at:(to) Orthogonal if:(= (mover) (who at:(to)))))))) next:(do (move Slide Orthogonal (between if:(or (= (between) (from)) (is In (between) (difference (sites Inner) (sites Occupied by:Mover)))) (apply (remove (between)))) (to (difference (sites Inner) (sites Occupied by:Mover)))) ifAfterwards:(> (max 1 (max (results from:(last To) to:(sites To (move Hop Orthogonal (between (min 0) if:(or {(= (from) (between)) (is Next (who at:(between))) (is Empty (between))})) (to (sites Inner) if:(is Mover (who at:(to)))))) (size Group at:(to) Orthogonal if:(= (mover) (who at:(to))))))) (var "MaxSizeFrom")))))) (end (if (or {(no Moves Next) (= 1 (count Groups Cell Orthogonal if:(is Mover (who at:(to))))) (= 1 (count Groups Cell Orthogonal if:(is Next (who at:(to)))))}) {(if (= 1 (count Groups Cell Orthogonal if:(is Mover (who at:(to))))) (result Mover Win)) (if (= 1 (count Groups Cell Orthogonal if:(is Next (who at:(to))))) (result Next Win)) (if (no Moves Next) (result Mover Loss))})))) 