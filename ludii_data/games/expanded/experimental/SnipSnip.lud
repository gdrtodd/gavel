(game "SnipSnip" (players 2) (equipment {(board (tri {2 4 2 4 2}) use:Vertex) (piece "Ball" Each)}) (rules (start {(set Score Each 0)}) (play (if (= 1 (value Player Mover)) (move Remove (sites (results from:(last To) to:(forEach of:(intersection (difference (difference (sites Around (sites Around (from) Orthogonal) Orthogonal) (sites (from) {{F} {F F}})) (from)) (sites Occupied by:Next)) (intersection {(sites Around (from) Orthogonal) (sites Around (site) Orthogonal) (sites Occupied by:Next)})) (to))) (then (and {(set Value Mover 0) (moveAgain)}))) (move Add (to (difference (sites Empty) (sites (results from:(sites Occupied by:P1) to:(forEach of:(intersection (difference (difference (sites Around (sites Around (from) Orthogonal) Orthogonal) (sites (from) {{F} {F F}})) (from)) (sites Occupied by:P2)) (intersection {(sites Around (from) Orthogonal) (sites Around (site) Orthogonal) (sites Empty)})) (to))))) (then (if (< 0 (count Pieces in:(sites (results from:(last To) to:(forEach of:(intersection (difference (difference (sites Around (sites Around (from) Orthogonal) Orthogonal) (sites (from) {{F} {F F}})) (from)) (sites Occupied by:Next)) (intersection {(sites Around (from) Orthogonal) (sites Around (site) Orthogonal) (sites Occupied by:Next)})) (to))))) (set Value Mover 1 (then (moveAgain)))))) (then (forEach Player (set Score (player (player)) (* -1 (max 0 (max (sizes Group Orthogonal of:(player)))))))))) (end {(if (and (no Moves Next) (= (score P1) (score P2))) (result Next Loss)) (if (and (no Moves Next) (!= (score P1) (score P2))) (byScore))}))) 