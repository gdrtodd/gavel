(game "Morra" (players 2) (mode Simultaneous) (equipment {(board (union (square 1) (shift 0 2 (square 1)))) (hand Each size:6) (hand Shared) (piece "Hand0" Each)}) (rules (start {(place "Hand01" (handSite P1) state:0) (place "Hand01" (handSite P1 1) state:1) (place "Hand01" (handSite P1 2) state:2) (place "Hand01" (handSite P1 3) state:3) (place "Hand01" (handSite P1 4) state:4) (place "Hand01" (handSite P1 5) state:5) (place "Hand02" (handSite P2) state:0) (place "Hand02" (handSite P2 1) state:1) (place "Hand02" (handSite P2 2) state:2) (place "Hand02" (handSite P2 3) state:3) (place "Hand02" (handSite P2 4) state:4) (place "Hand02" (handSite P2 5) state:5)}) phases:{(phase "Bet" (play (or {(move Bet P1 (range 0 (* 5 (count Players))) (then (set Pot (+ (pot) (amount P1))))) (move Bet P2 (range 0 (* 5 (count Players))) (then (set Pot (+ (pot) (amount P2)))))})) (nextPhase "Hand")) (phase "Hand" (play (or {(move (from (sites Occupied by:P1)) (to (- (id P1) 1)) copy:True P1 (then (if (= (+ (state at:0) (state at:1)) (amount P1)) (addScore P1 1)) applyAfterAllMoves:True)) (move (from (sites Occupied by:P2)) (to (- (id P2) 1)) copy:True P2 (then (if (= (+ (state at:0) (state at:1)) (amount P2)) (addScore P2 1)) applyAfterAllMoves:True))})) (nextPhase "Observe")) (phase "Observe" (play (move Pass (then (and {(remove 0) (remove 1)})))) (nextPhase "Bet"))} (end (if (or {(= (score P1) 3) (= (score P2) 3)}) (byScore))))) 