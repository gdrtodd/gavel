On a player's turn he or she must perform one of the following actions: 1) Move a tower (2-stack) by distributing its two stones into the two nearest cells in any one direction. Each destination cell must be empty or contain a single friendly stone. 2) Sacrifice a single tower stone to remove an adjacent enemy wall (1-stack). Sacrifice is not forced. Goal: A player wins immediately by reaching any cell of his or her opponent's home row, or by stalemating his or her opponent. Stack limit is 2. Standard 7 x 8, one row Immediately after reaching goal.
(game "Murus Gallicus" (players {(player N) (player S)}) (equipment {(board (rectangle 7 8)) (piece "Counter_isometric" Each) (regions "RomanGoal1" P1 (sites Top)) (regions "GaulGoal2" P2 (sites Bottom))}) (rules (start {(place Stack "Counter_isometric1" (sites {0 1 2 3 4 5 6 7}) count:2) (place Stack "Counter_isometric2" (sites {48 49 50 51 52 53 54 55}) count:2)}) (play (if (is Prev Mover) (or (move (from (last From)) (to (last To)) stack:True (then (and (remove (last To)) (remove (last To))))) (move Pass)) (forEach Piece "Counter_isometric" (or {(move Hop (from if:(and (is Mover (who at:(from))) (equals (size Stack at:(from)) 2))) (between if:(or (is Empty (between)) (and (is Mover (who at:(between))) (lt (size Stack at:(between)) 2))) (apply (fromTo (from) (to (between))))) (to if:(or (is Empty (to)) (and (is Mover (who at:(to))) (lt (size Stack at:(to)) 2)))) stack:True) (move Step (from if:(and (is Mover (who at:(from))) (equals (size Stack at:(from)) 2))) (to if:(and (is Enemy (who at:(to))) (equals 1 (size Stack at:(to)))) (apply (remove (to)))) stack:True (then (and (fromTo (from (last To)) (to (last From))) (remove (last To))))) (move Step (from if:(and (is Mover (who at:(from))) (equals (size Stack at:(from)) 2))) (to if:(and (is Enemy (who at:(to))) (equals (size Stack at:(to)) 3)) (apply (remove (to)))) stack:True (then (and {(fromTo (from (last To)) (to (last From))) (remove (last To)) (moveAgain)}))) (move Hop (from if:(and (is Mover (who at:(from))) (equals (size Stack at:(from)) 3))) (difference All Backwards) (between (range 1 2) if:True) (to if:(and (not (is Enemy (who at:(to)))) (not (is Mover (who at:(to))))))) (move Hop (from if:(and (is Mover (who at:(from))) (equals (size Stack at:(from)) 3))) (difference All Backwards) (between (range 1 2) if:True) (to if:(is Enemy (who at:(to)))) (then (and (remove (last To)) (remove (last To)))))}) top:True))) (end {(if (no Moves Next) (result Mover Win)) (if (and {(is In (last To) (sites Mover)) (not (is Enemy (who at:(last To)))) (is Mover (who at:(last To)))}) (result Mover Win))}))) 
