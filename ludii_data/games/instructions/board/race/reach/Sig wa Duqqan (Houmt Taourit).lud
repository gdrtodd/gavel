86 spaces in a spiral track. Any number of players, each having one piece, which starts on the first space in the outer ring of the spiral. A lump of charcoal, the Ghoula, also is placed on this space. Four sticks, with one green side and one white side, used as dice. The throws are as follows: One white side up = 1, this throw is known as "sig"; two white sides up = 0; three white sides up = 3; four white sides up = 4; all green sides up = 6. Throws of sig, 6, and 4 grant the player another throw. Players move their pieces along the track toward the central space. when they reach the sixth space from the end, they must make seven throws of sig before moving on, moving to the sixteenth spot on the seventh throw. After reaching the next spot, only throws of sig and 3 are used; sig to move one space, and 3 to move the Ghoula three spaces. When players reach the central space, Players control the Ghoula. When controlling the Ghoula, throws of 0 count as 6. Any pieces which have not moved from the starting space when the Ghoula is first moved are dragged with the Ghoula, and then may move normally on their next turn. The Ghoula, when reaching a space occupied by a player, continues their turn dragging the player back to the starting space. A player that is forced back to the starting space by any means loses. All players reaching the central space of the board win. The game has 4 players.
(game "Sig wa Duqqan (Houmt Taourit)" (players 4) (equipment {(board (spiral turns:5 sites:86) {(track "Track" {85 84 83 82 81 80 79 78 77 76 75 74 73 72 71 70 69 68 67 66 65 64 63 62 61 60 59 58 57 56 55 54 53 52 51 50 49 48 47 46 45 44 43 42 41 40 39 38 37 36 35 34 33 32 31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9 8 7 6 5} directed:True) (track "ExtensionTrack" {4 3 2 1 0} directed:True) (track "GhoulaTrack" {86 85 84 83 82 81 80 79 78 77 76 75 74 73 72 71 70 69 68 67 66 65 64 63 62 61 60 59 58 57 56 55 54 53 52 51 50 49 48 47 46 45 44 43 42 41 40 39 38 37 36 35 34 33 32 31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9 8 7 6 5} directed:True) (track "ReverseGhoulaTrack" {5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85} directed:True)} use:Vertex) (dice d:2 from:0 num:4) (map "Throw" {(pair 0 4) (pair 1 3) (pair 2 0) (pair 3 1) (pair 4 6)}) (piece "Stick" Each (if (equals (from) 5) (if (equals (state at:(from) level:(level)) 7) (move (from (from) level:(level)) (to 4)) (if (equals (mapEntry "Throw" (count Pips)) 1) (move Select (from (from) level:(level)) (then (set State at:(last To) level:(last LevelTo) (add 1 (state at:(last To) level:(last LevelTo)))))))) (if (is In (from) (sites Track "Track")) (move (from (from) level:(level)) (to (trackSite Move "Track" steps:(mapEntry "Throw" (count Pips))) if:True)) (if (is In (from) (sites Track "ExtensionTrack")) (or {(if (and (notEqual (from) 0) (equals (mapEntry "Throw" (count Pips)) 1)) (move (from (from) level:(level)) (to (trackSite Move "ExtensionTrack" steps:1)))) (if (equals (from) 0) (move Pass (then (and (if (equals 0 (mapEntry "Throw" (count Pips))) (set Var 6) (set Var (mapEntry "Throw" (count Pips)))) (moveAgain)))) (if (equals 3 (mapEntry "Throw" (count Pips))) (move Pass (then (and (set Var 3) (moveAgain))))))})))) maxState:7) (piece "Ghoula" Neutral) (hand P1 size:1)}) (rules (start {(place Stack "Ghoula0" 86) (place Stack items:{"Stick4" "Stick3" "Stick2" "Stick1"} 85)}) (play (do (if (le (var) 0) (roll)) next:(if (gt (var) 0) (if (equals 1 (size Stack at:(if (notEqual (where "Ghoula" Neutral) -1) (where "Ghoula" Neutral) (handSite P1)))) (move (from (if (notEqual (where "Ghoula" Neutral) -1) (where "Ghoula" Neutral) (handSite P1)) level:(where Level "Ghoula" Neutral at:(if (notEqual (where "Ghoula" Neutral) -1) (where "Ghoula" Neutral) (handSite P1)))) (to (trackSite Move from:(if (notEqual (where "Ghoula" Neutral) -1) (where "Ghoula" Neutral) (handSite P1)) "GhoulaTrack" steps:1))) (move (from (if (notEqual (where "Ghoula" Neutral) -1) (where "Ghoula" Neutral) (handSite P1)) level:(where Level "Ghoula" Neutral at:(if (notEqual (where "Ghoula" Neutral) -1) (where "Ghoula" Neutral) (handSite P1)))) (to (trackSite Move from:(if (notEqual (where "Ghoula" Neutral) -1) (where "Ghoula" Neutral) (handSite P1)) "ReverseGhoulaTrack" steps:1)) (then (if (equals (last From) 84) (forEach Level (last From) FromTop (remove (last From) level:(level))) (forEach Level (last From) FromTop (fromTo (from (last From) level:(level)) (to (last To))))))) (then (if (and (equals 1 (size Stack at:(if (notEqual (where "Ghoula" Neutral) -1) (where "Ghoula" Neutral) (handSite P1)))) (equals 5 (if (notEqual (where "Ghoula" Neutral) -1) (where "Ghoula" Neutral) (handSite P1)))) (set Var 0) (and (if (gt (var) 1) (moveAgain)) (set Var (sub (var) 1)))))) (if (notEqual 0 (mapEntry "Throw" (count Pips))) (forEach Piece))) (then (if (is In (mapEntry "Throw" (count Pips)) (sites {1 6 4})) (moveAgain))))) (end {(forEach Player if:(no Pieces Player) (result Player Loss)) (forEach Player if:(and (equals 1 (size Stack at:(if (notEqual (where "Ghoula" Neutral) -1) (where "Ghoula" Neutral) (handSite P1)))) (equals 5 (if (notEqual (where "Ghoula" Neutral) -1) (where "Ghoula" Neutral) (handSite P1)))) (result Player Win))}))) 
