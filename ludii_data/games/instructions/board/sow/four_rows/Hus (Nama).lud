4x16-22 board. Two counters in each player's outer row and the right half of the holes in the inner row. The opening move is stylized; each player must make one of the following moves on their first turn: Take counters from the hole that is two to the right of the center of the board in the outer row. Sow them to the right starting in the hole third from the center in the inner row; Take counters from the hole that is three to the right of the center of the board in the outer row. Sown them to the right starting from the hole second from the center in the inner row; Take counters from the hole next to the center of the board in the inner row. Sow them to the right; Take counters from the hole next to the left of the center of the board in the outer row. Sow them to the right starting from the hole next to the right of the center of the board. Players then sow from any of their holes in an anti-clockwise direction. If the last counter of a sowing lands in an empty hole, the turn ends. If the last counter falls into an occupied hole, the counters in that hole are picked up and sowing continues, unless the hole in the inner row on the opponent's side opposite the one the player last sowed into is occupied, in which case any counters in this hole and any in the opponent's opposite outer row hole are captured. The captured counters are then sown on the player's side of the board, starting with the hole following the one from which the capture was made. Sowing cannot occur from holes with single counters. The game ends when one player can no longer move. Each player has 16 holes on each row.
(game "Hus (Nama)" (players 2) (equipment {(mancalaBoard 4 16 store:None {(track "TrackCCW1" "0,E,N1,W" loop:True P1) (track "TrackCCW2" "32,E,N1,W" loop:True P2)}) (regions "Home" P1 (sites Track "TrackCCW1")) (regions "Home" P2 (sites Track "TrackCCW2")) (regions "Inner" P1 (difference (sites Track "TrackCCW1") (sites Bottom))) (regions "Inner" P2 (difference (sites Track "TrackCCW2") (sites Top))) (regions "Outer" P1 (difference (sites Track "TrackCCW1") (sites P1 "Inner"))) (regions "Outer" P2 (difference (sites Track "TrackCCW2") (sites P2 "Inner"))) (regions "HalfRightInner" P1 (sites {24 25 26 27 28 29 30 31})) (regions "HalfRightInner" P2 (sites {32 33 34 35 36 37 38 39})) (piece "Seed" Shared) (hand Each)}) (rules (start (set Count 2 to:(union {(sites P1 "Outer") (sites P2 "Outer") (sites P1 "HalfRightInner") (sites P2 "HalfRightInner")}))) phases:{(phase "OpeningP1" P1 (play (or {(move Select (from (sub (div 16 2) 2)) (then (and (fromTo (from (last To)) (to (add (div 16 2) 1)) count:2) (sow (add (div 16 2) 1) count:2 "TrackCCW" owner:(mover))))) (move Select (from (add (div 16 2) 2)) (then (and (fromTo (from (last To)) (to (add (add 16 (div 16 2)) 1))) (fromTo (from (last To)) (to (add (add 16 (div 16 2)) 2)))))) (move Select (from (add 16 (div 16 2))) (then (and (fromTo (from (last To)) (to (add (add 16 (div 16 2)) 1))) (fromTo (from (last To)) (to (add (add 16 (div 16 2)) 2)))))) (move Select (from (sub (div 16 2) 1)) (then (sow "TrackCCW" owner:(mover))))})) (nextPhase Mover "Sowing")) (phase "OpeningP2" P2 (play (or {(move Select (from (add (sub (mul 4 16) (div 16 2)) 1)) (then (and (fromTo (from (last To)) (to (sub (sub (mul 4 16) (div 16 2)) 2)) count:2) (sow (sub (sub (mul 4 16) (div 16 2)) 2) count:2 "TrackCCW" owner:(mover))))) (move Select (from (sub (sub (mul 4 16) (div 16 2)) 3)) (then (and (fromTo (from (last To)) (to (sub (sub (mul 3 16) (div 16 2)) 2))) (fromTo (from (last To)) (to (sub (sub (mul 3 16) (div 16 2)) 3)))))) (move Select (from (sub (sub (mul 3 16) (div 16 2)) 1)) (then (and (fromTo (from (last To)) (to (sub (sub (mul 3 16) (div 16 2)) 2))) (fromTo (from (last To)) (to (sub (sub (mul 3 16) (div 16 2)) 3)))))) (move Select (from (sub (mul 4 16) (div 16 2))) (then (sow "TrackCCW" owner:(mover))))})) (nextPhase Mover "Sowing")) (phase "Sowing" (play (move Select (from (if (is Prev Mover) (sites {(var "Replay")}) (sites Mover "Home")) if:(lt 1 (count at:(from)))) (then (sow "TrackCCW" owner:(mover) apply:(if (lt 1 (count at:(to))) (if (is In (to) (sites Mover "Inner")) (if (is Occupied (if (is Mover P1) (add (to) 16) (sub (to) 16))) (and {(fromTo (from (if (is Mover P1) (add (to) 16) (sub (to) 16))) (to (to)) count:(count at:(if (is Mover P1) (add (to) 16) (sub (to) 16)))) (if (is Occupied (if (is Mover P1) (add (to) (mul 16 2)) (sub (to) (mul 16 2)))) (and (fromTo (from (if (is Mover P1) (add (to) (mul 16 2)) (sub (to) (mul 16 2)))) (to (to)) count:(count at:(if (is Mover P1) (add (to) (mul 16 2)) (sub (to) (mul 16 2))))) (sow (to) count:(add (count at:(if (is Mover P1) (add (to) (mul 16 3)) (sub (to) (mul 16 3)))) (count at:(if (is Mover P1) (add (to) (mul 16 2)) (sub (to) (mul 16 2))))) "TrackCCW" owner:(mover))) (sow (to) count:(count at:(if (is Mover P1) (add (to) 16) (sub (to) 16))) "TrackCCW" owner:(mover)))}) (and (moveAgain) (set Var "Replay" (to)))) (if (is Occupied (if (is Mover P1) (add (to) (mul 16 2)) (sub (to) (mul 16 2)))) (and {(fromTo (from (if (is Mover P1) (add (to) (mul 16 2)) (sub (to) (mul 16 2)))) (to (to)) count:(count at:(if (is Mover P1) (add (to) (mul 16 2)) (sub (to) (mul 16 2))))) (if (is Occupied (if (is Mover P1) (add (to) (mul 16 3)) (sub (to) (mul 16 3)))) (and (fromTo (from (if (is Mover P1) (add (to) (mul 16 3)) (sub (to) (mul 16 3)))) (to (to)) count:(count at:(if (is Mover P1) (add (to) (mul 16 3)) (sub (to) (mul 16 3))))) (sow (to) count:(add (count at:(if (is Mover P1) (add (to) (mul 16 3)) (sub (to) (mul 16 3)))) (count at:(if (is Mover P1) (add (to) (mul 16 2)) (sub (to) (mul 16 2))))) "TrackCCW" owner:(mover))) (sow (to) count:(count at:(if (is Mover P1) (add (to) (mul 16 2)) (sub (to) (mul 16 2)))) "TrackCCW" owner:(mover)))}) (and (moveAgain) (set Var "Replay" (to)))))))))) (end (forEach NonMover if:(no Moves Player) (result Player Loss))))})) 
