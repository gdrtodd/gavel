Two rows of seven holes. Twelve counters in each hole, except in the central hole of each row, one of which has one counter and the other is empty. Players do not own a row of holes, rather each player owns the six holes on one side of the central holes. Sowing occurs in an anti-clockwise direction. Neither player may begin sowing from the central holes. When sowing ends, if the next hole after the hole in which the final counter was placed is occupied, these counters are picked up and sown. If this hole is empty, the counters in the hole opposite it are captured. Play continues until all of the counters have been captured. The player who captures the most pieces wins.
(game "Kanji Guti" (players 2) (equipment {(mancalaBoard 2 7 store:None (track "Track" "0,E,N,W" loop:True)) (piece "Seed" Shared) (hand Each) (regions "Home" P1 (expand (sites Left) steps:2)) (regions "Home" P2 (expand (sites Right) steps:2))}) (rules (start {(set Count 1 at:(coord "D1")) (set Count 12 to:(difference (sites Track) (sites Centre)))}) (play (move Select (from (if (is Prev Mover) (sites {(trackSite Move from:(last To afterConsequence:True) steps:1)}) (sites Mover)) if:(lt 0 (count at:(from)))) (then (sow apply:(if (gt (count at:(trackSite Move from:(to) steps:1)) 0) (moveAgain) (if (gt (count at:(if (is In (trackSite Move from:(to) steps:1) (sites Bottom)) (add (trackSite Move from:(to) steps:1) 7) (sub (trackSite Move from:(to) steps:1) 7))) 0) (fromTo (from (if (is In (trackSite Move from:(to) steps:1) (sites Bottom)) (add (trackSite Move from:(to) steps:1) 7) (sub (trackSite Move from:(to) steps:1) 7))) (to (handSite Mover)) count:(count at:(if (is In (trackSite Move from:(to) steps:1) (sites Bottom)) (add (trackSite Move from:(to) steps:1) 7) (sub (trackSite Move from:(to) steps:1) 7)))))))))) (end (if (equals 0 (count in:(sites Track))) (byScore {(score P1 (count Cell at:(handSite P1))) (score P2 (count Cell at:(handSite P2)))}))))) 
