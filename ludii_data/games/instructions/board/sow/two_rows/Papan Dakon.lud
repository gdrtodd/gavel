2x7 board, with one store at either end. Each player owns the store to their left. Seven counters in each hole. The first turn is played simultaneously by both players; at the point which one player's sowing lasts longer than the others, the player whose turn was shorter plays next and turns alternate from this point. Players sow in a clockwise direction from one of the holes in their row, also sowing into their store, but not in their opponent's store. When the final counter lands in an empty hole or in the store, the turn ends. When the final counter falls into an occupied hole, the player picks up the contents of this hole and continues to sow. If this occupied hole is in the player's row, they have the option to instead place the final counter in the opposite hole in the opponent's row, and to place this last counter as well as the contents of that hole into the store. When all of the counters are in the stores, a new game begins. The players take the counters from their stores and place seven in each hole, beginning from their right. Any player which cannot fill a hole with seven counters places the remaining counters in their store. Any holes which are left empty are out of play for this game. Play continues as before. Multiple games are played like this until all of the holes on one side are left empty. This player loses.
(game "Papan Dakon" (players 2) (equipment {(mancalaBoard 2 7 {(track "Track1" "0,8,E,S,W" loop:True P1) (track "Track2" "15,7,W,N,E" loop:True P2)}) (piece "Seed" Shared) (regions P1 (sites Bottom)) (regions P2 (sites Top)) (map {(pair P1 FirstSite) (pair P2 LastSite)}) (map "RightMost" {(pair P1 7) (pair P2 8)})}) (rules (start {(set Count 7 to:(union (sites P1) (sites P2))) (set RememberValue "Playable" (union (sites Top) (sites Bottom)))}) phases:{(phase "Sowing" (play (or (move Select (from (if (is Prev Mover) (sites {(last To afterConsequence:True)}) (sites Mover)) if:(and (gt (count at:(from)) 0) (is In (from) (sites (values Remembered "Playable"))))) (then (sow "Track" owner:(mover) apply:(if (and (notEqual (to) (mapEntry Mover)) (lt 1 (count at:(to)))) (moveAgain)) skipIf:(if (notEqual (to) (mapEntry Mover)) (not (is In (to) (sites (values Remembered "Playable")))))))) (if (and (is In (last To afterConsequence:True) (sites Mover)) (is Prev Mover)) (if (is In (last To afterConsequence:True) (sites (values Remembered "Playable"))) (move (from (last To afterConsequence:True)) (to (if (is Mover P1) (add (last To afterConsequence:True) 7) (sub (last To afterConsequence:True) 7))) count:1 (then (fromTo (from (last To)) (to (mapEntry Mover)) count:(count at:(last To))))))) (then (if (all Sites (union (sites Top) (sites Bottom)) if:(is Empty (site))) (forget Value "Playable" All))))) (end (if (all Sites (union (sites Top) (sites Bottom)) if:(is Empty (site))) {(if (gt 7 (count at:(mapEntry P1))) (result P2 Win)) (if (gt 7 (count at:(mapEntry P2))) (result P1 Win))})) (nextPhase (all Sites (union (sites Top) (sites Bottom)) if:(is Empty (site))) "BetweenRounds")) (phase "BetweenRounds" (play (if (not (all Sites (sites Mover) if:(is Occupied (site)))) (if (le 7 (count at:(mapEntry Mover))) (move (from (mapEntry Mover)) (to (trackSite FirstSite from:(mapEntry "RightMost" Mover) if:(is Empty (to)))) count:7 (then (remember Value "Playable" (last To))))))) (nextPhase (all Passed) "Sowing"))})) 
