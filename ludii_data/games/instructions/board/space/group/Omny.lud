Omny is played on the cells of any hexagonal grid where some or all of the cells are designated star cells. Players take turns placing a stone of one's own color on an empty cell. A group is a set of connected stones of the same color. A cut of a group X is any set of connected cells (empty or occupied by either player) including no stones in X. You win by making a group such that none of its cuts include more than half the cells of the board. For serious play it is advised to play with a balance rule in force. In Mis√®re Omny you lose if you make a group whose cuts each contain no more than half of the star cells. A hex board is currently selected A size 7 board is currently selected The currently selected star cells are all the cells on the board. The pie rule is currently in force The standard win condition is currently selected.
(game "Omny" (players 2) (equipment {(board (hex 7)) (piece "Disc" Each)}) (rules (play (if (equals 1 (var)) (or (move Swap Players P1 P2) (move Add (to (sites Empty)) (then (set Var 0)))) (move Add (to (sites Empty)) (then (if (equals 1 (count Moves)) (set Var 1)))))) (end (if (ge (count Sites in:(sites Board)) (max (results from:(difference (sites Board) (sites Group at:(last To))) to:2 (mul (to) (count Sites in:(intersection (sites Board) (sites Group at:(from) if:(not (is In (to) (sites Group at:(last To))))))))))) (result Mover Win))))) 
