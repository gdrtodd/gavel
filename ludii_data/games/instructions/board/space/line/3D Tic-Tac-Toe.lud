Play occurs on a 4x4x4 grid. One player places an X, the other places an O and players take turns placing their marks in the grid, attempting to get four in a row of their color. For the lines between levels, the diagonals are not taken in account. The game is played on a 3x3x3 board.
(game "3D Tic-Tac-Toe" (players 2) (equipment {(board (rectangle (add (pow 3 2) (sub 3 1)) 3)) (piece "Disc" P1) (piece "Cross" P2) (piece "Dot" Neutral)}) (rules (start (place "Dot0" (union {(sites Row 3) (sites Row 7)}))) (play (move Add (to (sites Empty)))) (end {(if (is Line 3) (result Mover Win)) (if (notEqual 0 (count Sites in:(forEach (expand (sites Bottom) steps:(sub 3 1)) if:(all Sites (sites {(site) (ahead (site) steps:4 N) (ahead (site) steps:8 N)}) if:(equals (mover) (who at:(site))))))) (result Mover Win))}))) 
