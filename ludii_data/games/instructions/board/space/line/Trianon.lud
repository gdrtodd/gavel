TURN - On each turn, each player drops a stone on an empty cell GOAL - A player loses if he has 3 friendly stones on an orthogonal or diagonal line (they don't need to be adjacent to each other).
(game "Trianon" (players 2) (equipment {(board (square 5) use:Vertex) (piece "Ball" Each)}) (rules (play (move Add (to (sites Empty)))) (end (if (or {(equals 3 (count Sites in:(forEach (sites Row (row of:(last To))) if:(is Friend (who at:(site)))))) (equals 3 (count Sites in:(forEach (sites Column (column of:(last To))) if:(is Friend (who at:(site)))))) (equals 3 (count Sites in:(forEach (union (sites Direction from:(last To) NE included:True) (sites Direction from:(last To) SW)) if:(is Friend (who at:(site)))))) (equals 3 (count Sites in:(forEach (union (sites Direction from:(last To) NW included:True) (sites Direction from:(last To) SE)) if:(is Friend (who at:(site))))))}) (result Mover Loss))))) 
