The game Tavlej is played by two players on a 2x13 rectangle board with square tiling. Regions: FinalQuadrant: sites [20,21,22,23,24,25] for P1 FinalQuadrant: sites [7,8,9,10,11,12] for P2 OppositeSide: sites [25,24,23,22,21,20,18,17,16,15,14,13] for P1 OppositeSide: sites [0,1,2,3,4,5,7,8,9,10,11,12] for P2 All players play with Discs. The following pieces are shared by all players: Dies with 6 faces valued [1, 2, 3, 4, 5, 6] and Dies with 6 faces valued [1, 2, 3, 4, 5, 6]. Rules for Pieces: Discs according to the value of the dice, if the number of pips on the dice steps forward from site the location of the piece on track null is equal to -2, if all sites in sites occupied by any component owned by Mover satisfy the condition current site is in FinalQuadrant or FinalQuadrant, remove pieces at the location of the piece, else from vertex in the location of the piece to vertex the number of pips on the dice steps forward from site the location of the piece on track null moveRule: there is an enemy Player at to, not to is in OppositeSide or OppositeSide and the top level of the stack on vertex to is equal to 0 or not there is an enemy Player at to captureRule: there is an enemy Player at to captureEffect: from vertex in to to vertex Bar of the next player moveRule: true. Players take turns moving. Setup: Place stack of [Disc1] at vertex 12 Place stack of [Disc2] at vertex 25. Rules: If not in the same turn, roll the dice and afterwards move one of your pieces. Aim: If if 1 is the mover then 15 is equal to the number of pieces in the region sites [0,1,2,3,4,5], is a friend, is a friend, is a friend, 3 is equal to the size of the stack on vertex 0, 3 is equal to the size of the stack on vertex 1 and 3 is equal to the size of the stack on vertex 2 else 15 is equal to the number of pieces in the region sites [13,14,15,16,17,18], is a friend, is a friend, is a friend, 3 is equal to the size of the stack on vertex 13, 3 is equal to the size of the stack on vertex 14 and 3 is equal to the size of the stack on vertex 15, the moving player wins If there are no pieces owned by Player the moving player, the moving player wins. The Tavlej (Ludii 1) ruleset.
(game "Tavlej" (players 2) (equipment {(board (rectangle 2 13) {(track "Track1" {6 12 11 10 9 8 7 5 4 3 2 1 0 13 14 15 16 17 18 20 21 22 23 24 25 -2} P1 directed:True) (track "Track2" {19 25 24 23 22 21 20 18 17 16 15 14 13 0 1 2 3 4 5 7 8 9 10 11 12 -2} P2 directed:True)} use:Vertex) (dice d:6 num:2) (piece "Disc" Each (forEach Die if:(notEqual (pips) 0) (if (equals (trackSite Move from:(from) steps:(pips)) -2) (if (all Sites (sites Occupied by:Mover) if:(is In (site) (sites Mover "FinalQuadrant"))) (move Remove (from))) (move (from (from)) (to (trackSite Move from:(from) steps:(pips)) if:(or (and {(is Enemy (who at:(to))) (not (is In (to) (sites Mover "OppositeSide"))) (equals (topLevel at:(to)) 0)}) (not (is Enemy (who at:(to))))) (apply if:(is Enemy (who at:(to))) (fromTo (from (to)) (to (mapEntry "Bar" Next))))))) (then (and (if (not (all DiceUsed)) (moveAgain)) (if (if (is Mover P1) (and {(equals 15 (count Pieces Mover in:(sites {0 1 2 3 4 5}))) (is Friend (who at:3)) (is Friend (who at:4)) (is Friend (who at:5)) (equals 3 (size Stack at:0)) (equals 3 (size Stack at:1)) (equals 3 (size Stack at:2))}) (and {(equals 15 (count Pieces Mover in:(sites {13 14 15 16 17 18}))) (is Friend (who at:16)) (is Friend (who at:17)) (is Friend (who at:18)) (equals 3 (size Stack at:13)) (equals 3 (size Stack at:14)) (equals 3 (size Stack at:15))})) (addScore Mover 2)))))) (regions "FinalQuadrant" P1 (sites {20 21 22 23 24 25})) (regions "FinalQuadrant" P2 (sites {7 8 9 10 11 12})) (regions "OppositeSide" P1 (sites {25 24 23 22 21 20 18 17 16 15 14 13})) (regions "OppositeSide" P2 (sites {0 1 2 3 4 5 7 8 9 10 11 12})) (map "Bar" {(pair P1 6) (pair P2 19)})}) (rules (start {(place Stack "Disc1" 12 count:15) (place Stack "Disc2" 25 count:15)}) (play (do (if (not (is Prev Mover)) (roll)) next:(forEach Piece top:True))) (end {(if (if (is Mover P1) (and {(equals 15 (count Pieces Mover in:(sites {0 1 2 3 4 5}))) (is Friend (who at:3)) (is Friend (who at:4)) (is Friend (who at:5)) (equals 3 (size Stack at:0)) (equals 3 (size Stack at:1)) (equals 3 (size Stack at:2))}) (and {(equals 15 (count Pieces Mover in:(sites {13 14 15 16 17 18}))) (is Friend (who at:16)) (is Friend (who at:17)) (is Friend (who at:18)) (equals 3 (size Stack at:13)) (equals 3 (size Stack at:14)) (equals 3 (size Stack at:15))})) (result Mover Win)) (if (no Pieces Mover) (result Mover Win))}))) 
