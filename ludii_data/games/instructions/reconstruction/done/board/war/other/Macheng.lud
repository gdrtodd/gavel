The game Macheng is played by two players on a square board with concentric tiling. All players play with Markers. Rules for Pieces: Markers step adjacent then for all flanked pieces on Vertexes starting from the to location of the last move with Orthogonal direction with a limit of 1 pieces if the target is there is an enemy Player at between if the friend is is a friendremove pieces at between and apply remove pieces at to to all sites flanking Vertexes the to location of the last move in dirrection Orthogonal and if a player places 3 of their pieces in an orthogonal direction line, move again. Players take turns moving. Rules: If in the same turn, remove pieces at sites occupied by any component owned by Next in Board, else from vertex in Player the moving player's hand site 0 to vertex in the set of empty vertexs moveRule: true then for all flanked pieces on Vertexes starting from the to location of the last move with Orthogonal direction with a limit of 1 pieces if the target is there is an enemy Player at between if the friend is is a friendremove pieces at between and apply remove pieces at to to all sites flanking Vertexes the to location of the last move in dirrection Orthogonal and if a player places 3 of their pieces in an orthogonal direction line, move again if in the same turn, remove pieces at sites occupied by any component owned by Next in Board, else move one of your pieces. Aim: If the next player cannot move, the moving player wins. The Macheng (Ludii 1) ruleset.
(game "Macheng" (players 2) (equipment {(board (concentric Square rings:3 joinCorners:True) use:Vertex) (hand Each) (piece "Marker" Each (move Step (to if:(is Empty (to))) (then (and {(custodial (from (last To)) Orthogonal (between (max 1) if:(is Enemy (who at:(between))) (apply (remove (between)))) (to if:(is Friend (who at:(to))))) (intervene (from (last To)) Orthogonal (to if:(is Enemy (who at:(to))) (apply (remove (to))))) (if (is Line 3 Orthogonal exact:True) (moveAgain))}))))}) (rules (start (place "Marker" "Hand" count:9)) phases:{(phase "Placement" (play (if (is Prev Mover) (move Remove (sites Occupied by:Next container:"Board")) (move (from (handSite Mover)) (to (sites Empty)) (then (and {(custodial (from (last To)) Orthogonal (between (max 1) if:(is Enemy (who at:(between))) (apply (remove (between)))) (to if:(is Friend (who at:(to))))) (intervene (from (last To)) Orthogonal (to if:(is Enemy (who at:(to))) (apply (remove (to))))) (if (is Line 3 Orthogonal exact:True) (moveAgain))}))))) (nextPhase Mover (all Sites (sites Hand Mover) if:(equals 0 (count Cell at:(site)))) "Movement")) (phase "Movement" (play (if (is Prev Mover) (move Remove (sites Occupied by:Next container:"Board")) (forEach Piece))))} (end (if (no Moves Next) (result Mover Win))))) 
