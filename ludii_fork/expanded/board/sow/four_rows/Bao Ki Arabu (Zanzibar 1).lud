4x8 board. Three counters in each hole. Players pick up counters from any of their holes and sow them in either direction. If the last counter falls into an occupied hole, they pick the counters in this hole up and continue sowing. Sowing ends when the last counter falls into an empty hole. If the empty hole is in the inner row, the player captures any of the counters in the opponent's two holes opposite it. Play ends when all of one player's seeds have been captured.
(game "Bao Ki Arabu (Zanzibar 1)" (players 2) (equipment {(mancalaBoard 4 8 store:None {(track "TrackCCW1" "0,E,N1,W" loop:True P1) (track "TrackCCW2" "16,E,N1,W" loop:True P2) (track "TrackCW1" "7,W,N1,E" loop:True P1) (track "TrackCW2" "24,E,S1,W" loop:True P2)}) (regions "Home" P1 (sites Track "TrackCCW1")) (regions "Home" P2 (sites Track "TrackCCW2")) (regions "Inner" P1 (difference (sites Track "TrackCCW1") (sites Bottom))) (regions "Inner" P2 (difference (sites Track "TrackCCW2") (sites Top))) (piece "Seed" Shared) (hand Each)}) (rules (start (set Count 3 to:(sites Board))) (play (or (move Select (from (if (is Prev Mover) (if (is Pending) (sites {(last To afterConsequence:True)})) (sites Mover "Home")) if:(gt (count at:(from)) 0)) (then (sow "TrackCW" owner:(mover) apply:(if (equals (count at:(to)) 1) (if (is In (to) (sites Mover "Inner")) (and (if (gt (count at:(if (is Mover P1) (add (to) 8) (sub (to) 8))) 0) (fromTo (from (if (is Mover P1) (add (to) 8) (sub (to) 8))) (to (handSite Mover)) count:(count at:(if (is Mover P1) (add (to) 8) (sub (to) 8))))) (if (gt (count at:(if (is Mover P1) (add (to) (mul 8 2)) (sub (to) (mul 8 2)))) 0) (fromTo (from (if (is Mover P1) (add (to) (mul 8 2)) (sub (to) (mul 8 2)))) (to (handSite Mover)) count:(count at:(if (is Mover P1) (add (to) (mul 8 2)) (sub (to) (mul 8 2)))))))) (and (moveAgain) (set Pending)))))) (move Select (from (if (is Prev Mover) (if (not (is Pending)) (sites {(last To afterConsequence:True)})) (sites Mover "Home")) if:(gt (count at:(from)) 0)) (then (sow "TrackCCW" owner:(mover) apply:(if (equals (count at:(to)) 1) (if (is In (to) (sites Mover "Inner")) (and (if (gt (count at:(if (is Mover P1) (add (to) 8) (sub (to) 8))) 0) (fromTo (from (if (is Mover P1) (add (to) 8) (sub (to) 8))) (to (handSite Mover)) count:(count at:(if (is Mover P1) (add (to) 8) (sub (to) 8))))) (if (gt (count at:(if (is Mover P1) (add (to) (mul 8 2)) (sub (to) (mul 8 2)))) 0) (fromTo (from (if (is Mover P1) (add (to) (mul 8 2)) (sub (to) (mul 8 2)))) (to (handSite Mover)) count:(count at:(if (is Mover P1) (add (to) (mul 8 2)) (sub (to) (mul 8 2)))))))) (moveAgain))))))) (end (if (no Moves Mover) (byScore {(score P1 (add (count Cell at:(handSite P1)) (count in:(sites P1 "Home")))) (score P2 (add (count Cell at:(handSite P2)) (count in:(sites P2 "Home"))))}))))) 
