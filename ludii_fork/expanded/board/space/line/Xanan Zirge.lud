9x9 intersecting lines. Forty pieces per player. Players alternate turns placing a piece on an empty space on the board. When all of the pieces are placed, players alternate turns moving a piece to an empty adjacent spot on the board. When a player places three of their pieces in an orthogonal or diagonal line, they remove one of the opponent's pieces. Players also remove one of the opponent's pieces when they place four pieces so that they are one the four corners of one of the squares on the board. Pieces which are in these patterns cannot be removed from the board. The player who removes all of the opponent's pieces wins.
(game "Xanan Zirge" (players 2) (equipment {(board (square 9) use:Vertex) (hand Each) (piece "Marker" Each (move Step (to if:(is Empty (to))) (then (if (or (is Line 3 All) (is Pattern {F R F R F R F})) (moveAgain)))))}) (rules (start (place "Marker" "Hand" count:40)) phases:{(phase "Placement" (play (if (is Prev Mover) (move Remove (forEach (sites Occupied by:Next container:"Board") if:(and (not (is Line 3 All through:(site))) (not (is Pattern {F R F R F R F} from:(site)))))) (move (from (handSite Mover)) (to (sites Empty)) (then (if (or (is Line 3 All) (is Pattern {F R F R F R F})) (moveAgain)))))) (nextPhase Mover (all Sites (sites Hand Mover) if:(equals 0 (count Cell at:(site)))) "Movement")) (phase "Movement" (play (if (is Prev Mover) (move Remove (forEach (sites Occupied by:Next container:"Board") if:(and (not (is Line 3 All through:(site))) (not (is Pattern {F R F R F R F} from:(site)))))) (forEach Piece))))} (end (if (no Pieces Next) (result Next Loss))))) 
