Like Go, Cavity is played on the points of a square grid, and groups (chains, more precisely) and liberties are defined the same way. An empty region is a group (chain) of empty points, and it is said to be adjacent to a stone if any of its points are. Setup: Starting with Black, place one stone each on any empty point. The setup is over as soon as the players have one stone each on the board. Play: On your turn, place a stone of your color on any point in an empty region that's adjacent to a stone of your color. After placement, first remove all enemy groups that have no liberties, then remove all friendly groups that have no liberties. In this phase, as soon as one player is the only one with stones on the board, the game is over and that player is the winner. The game is balanced with the pie rule. The game is played on an 11x11 board
(game "Cavity" (players 2) (equipment {(board (square 11) use:Vertex) (piece "Marker" Each)}) (rules (meta (swap)) phases:{(phase "Opening" (play (move Add (to (sites Empty)))) (nextPhase (and (equals 1 (count Sites in:(sites Occupied by:P1))) (equals 1 (count Sites in:(sites Occupied by:P2)))) "Play")) (phase "Play" (play (move Add (to (sites Empty) if:(gt 1000000000 (count Steps Orthogonal (step (to if:(or (is Empty (to)) (is In (to) (sites Occupied by:Mover))))) (to) (sites Occupied by:Mover)))) (then (if (can Move (enclose (from (last To)) Orthogonal (between if:(is Enemy (who at:(between))) (apply (remove (between)))))) (enclose (from (last To)) Orthogonal (between if:(is Enemy (who at:(between))) (apply (remove (between))))) (enclose (from (last To)) Orthogonal (between if:(is Mover (who at:(between))) (apply (remove (between))))))))))} (end (forEach Player if:(and (lt 2 (count Moves)) (no Pieces Player)) (result Player Loss))))) 
