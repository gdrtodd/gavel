5x5 board. Players begin by placing their pieces two-by-two in places as they see fit, except for the central space. Once all the spaces except the central one are filled, the player who placed their pieces last moves a piece one space orthogonally to the empty space. Pieces are captured by surrounding them on either side by a player's own pieces. Multiple captures are allowed, and multiple pieces can be captured in a single move. A player may move their piece between two of the opponent's pieces without it resulting in a capture. Pieces in the central spot cannot be captured. If a player cannot move, the opponent must move so that the player can move on their next turn. The player to capture all of the opponent's pieces wins.
(game "Shantarad" (players 2) (equipment {(board (square 5)) (hand Each) (piece "Marker" Each (move Step Orthogonal (to if:(is Empty (to))) (then (custodial (from (last To)) Orthogonal (between (max 1) if:(and (is Enemy (who at:(between))) (notEqual (centrePoint) (between))) (apply (and (remove (between)) (if (or {(can Move (custodial (from (ahead (last To) N)) Orthogonal (between (max 1) if:(and (is Enemy (who at:(between))) (notEqual (centrePoint) (between)))) (to if:(is Friend (who at:(to)))))) (can Move (custodial (from (ahead (last To) E)) Orthogonal (between (max 1) if:(and (is Enemy (who at:(between))) (notEqual (centrePoint) (between)))) (to if:(is Friend (who at:(to)))))) (can Move (custodial (from (ahead (last To) W)) Orthogonal (between (max 1) if:(and (is Enemy (who at:(between))) (notEqual (centrePoint) (between)))) (to if:(is Friend (who at:(to)))))) (can Move (custodial (from (ahead (last To) S)) Orthogonal (between (max 1) if:(and (is Enemy (who at:(between))) (notEqual (centrePoint) (between)))) (to if:(is Friend (who at:(to))))))}) (moveAgain) (if (no Moves Next) (and (set Pending) (moveAgain))))))) (to if:(is Friend (who at:(to))))))))}) (rules (start (place "Marker" "Hand" count:12)) phases:{(phase "Placement" (play (if (equals (count Moves) 24) (forEach Piece) (move (from (handSite Mover)) (to (difference (sites Empty) (centrePoint))) (then (if (or (equals (count Moves) 24) (not (is Prev Mover))) (moveAgain)))))) (nextPhase (equals (count Moves) 25) "Movement")) (phase "Movement" (play (if (is Prev Mover) (move Step (from (last To)) Orthogonal (to if:(and (is Empty (to)) (or {(and (is Enemy (who at:(ahead (to) W))) (is Friend (who at:(ahead (ahead (to) W) W)))) (and (is Enemy (who at:(ahead (to) E))) (is Friend (who at:(ahead (ahead (to) E) E)))) (and (is Enemy (who at:(ahead (to) N))) (is Friend (who at:(ahead (ahead (to) N) N)))) (and (is Enemy (who at:(ahead (to) S))) (is Friend (who at:(ahead (ahead (to) S) S))))}))) (then (custodial (from (last To)) Orthogonal (between (max 1) if:(and (is Enemy (who at:(between))) (notEqual (centrePoint) (between))) (apply (and (remove (between)) (if (or {(can Move (custodial (from (ahead (last To) N)) Orthogonal (between (max 1) if:(and (is Enemy (who at:(between))) (notEqual (centrePoint) (between)))) (to if:(is Friend (who at:(to)))))) (can Move (custodial (from (ahead (last To) E)) Orthogonal (between (max 1) if:(and (is Enemy (who at:(between))) (notEqual (centrePoint) (between)))) (to if:(is Friend (who at:(to)))))) (can Move (custodial (from (ahead (last To) W)) Orthogonal (between (max 1) if:(and (is Enemy (who at:(between))) (notEqual (centrePoint) (between)))) (to if:(is Friend (who at:(to)))))) (can Move (custodial (from (ahead (last To) S)) Orthogonal (between (max 1) if:(and (is Enemy (who at:(between))) (notEqual (centrePoint) (between)))) (to if:(is Friend (who at:(to))))))}) (moveAgain) (if (no Moves Next) (and (set Pending) (moveAgain))))))) (to if:(is Friend (who at:(to))))))) (do (forEach Piece) ifAfterwards:(not (no Moves Next))))))} (end (if (no Pieces Next) (result Next Loss))))) 
