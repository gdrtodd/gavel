MOVE - Stones may move to an adjacent (orthogonal or diagonal) empty cell. CAPTURE - Stones capture by jumping over an enemy stone and landing in the immediate opposite empty cell. - Captures are mandatory. - Captures are multiple and the player must choose the jumping sequence that captures more enemy stones. GOAL - A player wins when it captures all enemy stones, or when he moves his last remaining stone to the center cell.
(game "Jumping Beans" (players 2) (equipment {(board (square 7)) (piece "Bean" Each (move Step (to if:(is Empty (to)))))}) (rules (start {(place "Bean1" (forEach (sites Board) if:(lt (site) (centrePoint)))) (place "Bean2" (forEach (sites Board) if:(gt (site) (centrePoint))))}) (play (if (is Prev Mover) (max Moves (move Hop (from (last To)) (between if:(is Enemy (who at:(between))) (apply (remove (between)))) (to if:(is Empty (to))) (then (if (can Move (move Hop (from (last To)) (between if:(is Enemy (who at:(between))) (apply (remove (between)))) (to if:(is Empty (to))))) (moveAgain))))) (priority {(max Moves (forEach Piece (move Hop (between if:(is Enemy (who at:(between))) (apply (remove (between)))) (to if:(is Empty (to))) (then (if (can Move (move Hop (from (last To)) (between if:(is Enemy (who at:(between))) (apply (remove (between)))) (to if:(is Empty (to))))) (moveAgain)))))) (forEach Piece)}))) (end (if (or (no Pieces Next) (and (equals 1 (count Pieces Mover)) (equals (centrePoint) (where "Bean" Mover)))) (result Mover Win))))) 
