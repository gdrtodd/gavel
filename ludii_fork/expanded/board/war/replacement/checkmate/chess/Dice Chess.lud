This game is a variant of classic Chess, which adds a random factor to the strategy. The following list describes all differences of the rules: There is no check or checkmate, it is allowed to move the king to a square attacked by opponent's piece. The goal is to capture opponent's king. A die is rolled for every move. The number determines which piece can be used to make the move. 1 - pawn, 2 - knight, 3 - bishop, 4 - rook, 5 - queen, 6 - king. If a pawn is to be promoted (would advance to the last row), the player can move it even if the die does not show 1. However, he can only promote it to the piece chosen by the die roll - for example, if 3 is rolled, the pawn can be promoted to a bishop only. If 1 is rolled, the pawn can be promoted to any piece. The game is played on a 8x8 board.
(game "Dice Chess" (players {(player N) (player S)}) (equipment {(board (square 8)) (dice d:6 from:1 num:1) (piece "Pawn" Each (or {(if (is In (from) (sites Start (piece (what at:(from))))) (move Slide Forward (between (exact 2) if:(is Empty (between))) (to if:(is Empty (to))))) (move Step Forward (to if:(is Empty (to)))) (move Step (directions {FR FL}) (to if:(is Enemy (who at:(to))) (apply (remove (to)))))} (then (if (is In (last To) (sites Mover "Promotion")) (moveAgain))))) (piece "Bishop" Each (move Slide Diagonal (to if:(is Enemy (who at:(to))) (apply (remove (to)))))) (piece "Knight" Each (move Leap {{F F R F} {F F L F}} (to if:(not (is Friend (who at:(to)))) (apply (if (is Enemy (who at:(to))) (remove (to))))))) (piece "Rook" Each (move Slide Orthogonal (to if:(is Enemy (who at:(to))) (apply (remove (to)))))) (piece "Queen" Each (move Slide (to if:(is Enemy (who at:(to))) (apply (remove (to)))))) (piece "King_noCross" Each (move Step (to if:(not (is Friend (who at:(to)))) (apply (if (is Enemy (who at:(to))) (remove (to))))))) (regions "Promotion" P1 (sites Top)) (regions "Promotion" P2 (sites Bottom))}) (rules (start {(place "Pawn1" {"A2" "B2" "C2" "D2" "E2" "F2" "G2" "H2"}) (place "Pawn2" {"H7" "G7" "E7" "F7" "D7" "C7" "B7" "A7"}) (place "Bishop1" {"C1" "F1"}) (place "Bishop2" {"C8" "F8"}) (place "Knight1" {"B1" "G1"}) (place "Knight2" {"G8" "B8"}) (place "Rook1" {"A1" "H1"}) (place "Rook2" {"H8" "A8"}) (place "Queen1" coord:"D1") (place "Queen2" coord:"D8") (place "King_noCross1" coord:"E1") (place "King_noCross2" coord:"E8")}) (play (do (if (not (is Prev Mover)) (roll)) next:(if (is Prev Mover) (if (equals (count Pips) 1) (or {(move Promote (last To) (piece "Bishop") Mover) (move Promote (last To) (piece "Knight") Mover) (move Promote (last To) (piece "Rook") Mover) (move Promote (last To) (piece "Queen") Mover) (move Promote (last To) (piece "King_noCross") Mover)}) (if (equals (count Pips) 2) (move Promote (last To) (piece "Knight") Mover) (if (equals (count Pips) 3) (move Promote (last To) (piece "Bishop") Mover) (if (equals (count Pips) 4) (move Promote (last To) (piece "Rook") Mover) (if (equals (count Pips) 5) (move Promote (last To) (piece "Queen") Mover) (move Promote (last To) (piece "King_noCross") Mover)))))) (or (forEach Die (if (equals (pips) 6) (forEach Piece "King_noCross") (if (equals (pips) 5) (forEach Piece "Queen") (if (equals (pips) 4) (forEach Piece "Rook") (if (equals (pips) 2) (forEach Piece "Knight") (if (equals (pips) 3) (forEach Piece "Bishop") (if (equals (pips) 1) (forEach Piece "Pawn")))))))) (forEach Site (sites Direction from:(sites Mover) (if (is Mover P1) S N) distance:1) (if (equals (what at:(site)) (id "Pawn" Mover)) (or (if (can Move (move Step (from (site)) (directions {FR FL}) (to if:(is Enemy (who at:(to))) (apply (remove (to)))))) (move Step (from (site)) (directions {FR FL}) (to if:(is Enemy (who at:(to))) (apply (remove (to)))))) (if (can Move (move Step (from (site)) Forward (to if:(is Empty (to))))) (move Step (from (site)) Forward (to if:(is Empty (to))))) (then (if (is In (last To) (sites Mover "Promotion")) (moveAgain)))))))))) (end (if (no Pieces Next "King_noCross") (result Next Loss))))) 
