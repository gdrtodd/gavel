Wellisch Chess is played on a hexagonal board with each side having length 6 and each space oriented vertically. The board has 91 spaces. The board spaces are traditionally coloured red, yellow, and either gray or black. Capture and Pawn Promotion: * When pieces other than Kings and Pawns are captured, they are set aside for later Pawn promotion. When a Pawn reaches the side of the board opposite its starting side, it is eligible for promotion. * When a Pawn is eligible for promotion, and there are pieces of that colour available from previous capture, then the Pawn is promoted to one of the captured pieces, as the player chooses. * If there are no pieces of the given colour when a Pawn reaches the far side, then the Pawn remains where it is (unless captured) until a piece of the given colour is captured. Then, on the player's next turn, the Pawn is promoted. Piece Movement: * Rooks move as in Glinski Chess. - They slide in any of the 6 adjacent direction. * There are no Bishops in Wellisch Chess. * Kings can move one space in any of the six adjacent directions from their current space---West, East, or 60 degrees off either of those. They castle by swapping locations with one of the Rooks belonging to the same player. Castling can only take place when neither the King nor the Rook being moved have moved before. * Knights move one space 'diagonally' (i.e., along an edge, to any of the six nearest spaces of the same colour). Note that a Knight always moves to a space of the same colour as the space it moved from. * Queens can make any move that would be available to a Rook or a Knight on the current space. * Pawns can advance with or without capturing by moving one space forward to an adjacent space slightly left or right of forward. Pawns can never advance more than one space. There is no en passant capture. As mentioned above, Pawns can be promoted upon reaching the side of the board farthest from their starting side, but can only be promoted to a piece (Queen, Rook, or Knight) of the same colour that has already been captured. If a Pawn reaches the farthest side without any captured pieces available, then it remains in that position until a piece becomes available for its delayed promotion, on the player's next turn. (Note: Currently, on a turn where the delayed promotion takes place, the possible post-promotion movement of the Pawn is displayed before the promotion visually takes place.) The game ends when a King is captured, or there is a stalemate due to turns elapsed without a capture or Pawn move. * When the game ends in checkmate, the checkmating player wins, the checkmated player loses, and the remaining player draws. * When the game ends in stalemate, all players draw. (Note: A player not being able to escape check passes the current move, This does not result in a stalemate.) Variations: In Wellisch's version of the game, the first player to capture another's King takes possession of the other player's pieces. (The Pawns keep their direction of movement.) In another variant, some people play with a rule that if Player 1's move exposes a threat by Player 2 against Player 3's King, then Player 2 may not capture Player 3's King until Player 3 has had a chance to move.
(game "Wellisch Chess" (players {(player N) (player ESE) (player WSW)}) (equipment {(board (hex 6)) (piece "King" Each (or {(move Step Orthogonal (to if:(or (is In (to) (sites Empty)) (is Enemy (who at:(to)))) (apply (if (is Enemy (who at:(to))) (if (or {(equals (what at:(to)) (id "Pawn" P1)) (equals (what at:(to)) (id "Pawn" P2)) (equals (what at:(to)) (id "Pawn" P3))}) (remove (to)) (if (or {(equals (what at:(to)) (id "King" P1)) (equals (what at:(to)) (id "King" P2)) (equals (what at:(to)) (id "King" P3))}) (and (trigger "CapturedEnemyKing" Mover) (remove (to))) (move (from (to)) (to (handSite (who at:(to)) (mapEntry "HandIndex" (what at:(to))))) (then (set Counter)))))))) (then (if (equals (state at:(last To)) 1) (set State at:(last To) 0)))) (if (and {(equals (what at:(mapEntry "King" (mover))) (id "King" Mover)) (equals (state at:(mapEntry "King" (mover))) 1) (not (is Threatened (id "King" Mover)))}) (or {(if (is Mover P1) (if (and (equals (state at:(mapEntry "RookRight" (mover))) 1) (not (is Threatened (id "King" Mover) at:(mapEntry "RookRight" Mover)))) (move Swap Pieces 3 4 (then (set State at:(last To) 0)))) (if (is Mover P2) (if (and (equals (state at:(mapEntry "RookRight" (mover))) 1) (not (is Threatened (id "King" Mover) at:(mapEntry "RookRight" Mover)))) (move Swap Pieces 61 51 (then (set State at:(last To) 0)))) (if (and (equals (state at:(mapEntry "RookRight" (mover))) 1) (not (is Threatened (id "King" Mover) at:(mapEntry "RookRight" Mover)))) (move Swap Pieces 77 84 (then (set State at:(last To) 0)))))) (if (is Mover P1) (if (and {(equals (state at:(mapEntry "RookLeft" (mover))) 1) (not (is Threatened (id "King" Mover) at:(mapEntry "RookLeft" Mover))) (not (is Threatened (id "King" Mover) at:(mapEntry "Queen" Mover))) (is In (mapEntry "Queen" Mover) (sites Empty))}) (move Swap Pieces 3 1 (then (set State at:(last To) 0)))) (if (is Mover P2) (if (and {(equals (state at:(mapEntry "RookLeft" (mover))) 1) (not (is Threatened (id "King" Mover) at:(mapEntry "RookLeft" Mover))) (not (is Threatened (id "King" Mover) at:(mapEntry "Queen" Mover))) (is In (mapEntry "Queen" Mover) (sites Empty))}) (move Swap Pieces 61 78 (then (set State at:(last To) 0)))) (if (and {(equals (state at:(mapEntry "RookLeft" (mover))) 1) (not (is Threatened (id "King" Mover) at:(mapEntry "RookLeft" Mover))) (not (is Threatened (id "King" Mover) at:(mapEntry "Queen" Mover))) (is In (mapEntry "Queen" Mover) (sites Empty))}) (move Swap Pieces 77 60 (then (set State at:(last To) 0))))))}))})) (piece "Queen" Each (or (move Slide Orthogonal (to if:(is Enemy (who at:(to))) (apply (if (or {(equals (what at:(to)) (id "Pawn" P1)) (equals (what at:(to)) (id "Pawn" P2)) (equals (what at:(to)) (id "Pawn" P3))}) (remove (to)) (if (or {(equals (what at:(to)) (id "King" P1)) (equals (what at:(to)) (id "King" P2)) (equals (what at:(to)) (id "King" P3))}) (and (trigger "CapturedEnemyKing" Mover) (remove (to))) (move (from (to)) (to (handSite (who at:(to)) (mapEntry "HandIndex" (what at:(to))))) (then (set Counter)))))))) (move Step Diagonal (to if:(or (is In (to) (sites Empty)) (is Enemy (who at:(to)))) (apply (if (is Enemy (who at:(to))) (if (or {(equals (what at:(to)) (id "Pawn" P1)) (equals (what at:(to)) (id "Pawn" P2)) (equals (what at:(to)) (id "Pawn" P3))}) (remove (to)) (if (or {(equals (what at:(to)) (id "King" P1)) (equals (what at:(to)) (id "King" P2)) (equals (what at:(to)) (id "King" P3))}) (and (trigger "CapturedEnemyKing" Mover) (remove (to))) (move (from (to)) (to (handSite (who at:(to)) (mapEntry "HandIndex" (what at:(to))))) (then (set Counter))))))))))) (piece "Rook" Each (move Slide Orthogonal (to if:(is Enemy (who at:(to))) (apply (if (or {(equals (what at:(to)) (id "Pawn" P1)) (equals (what at:(to)) (id "Pawn" P2)) (equals (what at:(to)) (id "Pawn" P3))}) (remove (to)) (if (or {(equals (what at:(to)) (id "King" P1)) (equals (what at:(to)) (id "King" P2)) (equals (what at:(to)) (id "King" P3))}) (and (trigger "CapturedEnemyKing" Mover) (remove (to))) (move (from (to)) (to (handSite (who at:(to)) (mapEntry "HandIndex" (what at:(to))))) (then (set Counter))))))))) (piece "Knight" Each (move Step Diagonal (to if:(or (is In (to) (sites Empty)) (is Enemy (who at:(to)))) (apply (if (is Enemy (who at:(to))) (if (or {(equals (what at:(to)) (id "Pawn" P1)) (equals (what at:(to)) (id "Pawn" P2)) (equals (what at:(to)) (id "Pawn" P3))}) (remove (to)) (if (or {(equals (what at:(to)) (id "King" P1)) (equals (what at:(to)) (id "King" P2)) (equals (what at:(to)) (id "King" P3))}) (and (trigger "CapturedEnemyKing" Mover) (remove (to))) (move (from (to)) (to (handSite (who at:(to)) (mapEntry "HandIndex" (what at:(to))))) (then (set Counter)))))))))) (piece "Pawn" Each (or {(move Step (if (is Mover P1) (directions {NNW NNE}) (if (is Mover P2) (directions {E SSE}) (directions {SSW W}))) (to if:(is Empty (to)))) (move Step (if (is Mover P1) (directions {NNW NNE}) (if (is Mover P2) (directions {E SSE}) (directions {SSW W}))) (to if:(is Enemy (who at:(to))) (apply (if (or {(equals (what at:(to)) (id "Pawn" P1)) (equals (what at:(to)) (id "Pawn" P2)) (equals (what at:(to)) (id "Pawn" P3))}) (remove (to)) (if (or {(equals (what at:(to)) (id "King" P1)) (equals (what at:(to)) (id "King" P2)) (equals (what at:(to)) (id "King" P3))}) (and (trigger "CapturedEnemyKing" Mover) (remove (to))) (move (from (to)) (to (handSite (who at:(to)) (mapEntry "HandIndex" (what at:(to)))))))))))} (then (and (if (is In (last To) (sites Mover "PromotionZone")) (moveAgain)) (set Counter))))) (map "King" {(pair 1 "D1") (pair 2 "C8") (pair 3 "K9")}) (map "RookLeft" {(pair 1 "B1") (pair 2 "E10") (pair 3 "K7")}) (map "RookRight" {(pair 1 "E1") (pair 2 "B7") (pair 3 "K10")}) (map "Queen" {(pair 1 2) (pair 2 70) (pair 3 69)}) (hand Each size:3) (map "HandIndex" {(pair 4 0) (pair 7 1) (pair 10 2) (pair 5 0) (pair 8 1) (pair 11 2) (pair 6 0) (pair 9 1) (pair 12 2)}) (regions "PromotionZone" P1 (sites Top)) (regions "PromotionZone" P2 (sites {"K6" "J5" "I4" "H3" "G2" "F1"})) (regions "PromotionZone" P3 (sites {"A1" "A2" "A3" "A4" "A5" "A6"})) (regions "Region-Grey" (sites Phase 1)) (regions "Region-Red" (sites Phase 2)) (regions "Region-Yellow" (sites Phase 0))}) (rules (start {(place "King1" coord:"D1" state:1) (place "Queen1" coord:"C1") (place "Rook1" {"B1" "E1"} state:1) (place "Knight1" {"A1" "D2" "F1"}) (place "King3" coord:"K9" state:1) (place "Queen3" coord:"K8") (place "Rook3" {"K10" "K7"} state:1) (place "Knight3" {"K11" "J8" "K6"}) (place "King2" coord:"C8" state:1) (place "Queen2" coord:"D9") (place "Rook2" {"B7" "E10"} state:1) (place "Knight2" {"A6" "D8" "F11"}) (place "Pawn1" {"A2" "B2" "C2" "D3" "E3" "E2" "F2" "G2"}) (place "Pawn3" {"J11" "J10" "J9" "I8" "I7" "J7" "J6" "J5"}) (place "Pawn2" {"A5" "B6" "C7" "D7" "E8" "E9" "F10" "G11"})}) phases:{(phase "Movement" (play (if (is Prev Mover) (if (not (all Sites (sites Hand Mover) if:(equals 0 (count Cell at:(site))))) (move (from (sites Occupied by:Mover container:"Hand" components:{"Queen" "Rook" "Knight"})) (to (last To)))) (do (if (gt (count in:(sites Hand Mover)) 0) (move (from (sites Occupied by:Mover container:"Hand" components:{"Queen" "Rook" "Knight"})) (to (sites Mover "PromotionZone") if:(equals (what at:(to)) (id "Pawn" Mover))))) next:(do (forEach Piece) ifAfterwards:(not (is Threatened (id "King" Mover))))))) (end {(if (is Triggered "CapturedEnemyKing" P1) (result P1 Win)) (if (is Triggered "CapturedEnemyKing" P2) (result P2 Win)) (if (is Triggered "CapturedEnemyKing" P3) (result P3 Win)) (if (equals (where "King" P1) -1) (result P1 Loss)) (if (equals (where "King" P2) -1) (result P2 Loss)) (if (equals (where "King" P3) -1) (result P3 Loss)) (if (equals (counter) 100) (result Mover Draw))}))})) 
