The face player places three faces each turn. The edge player places four edges each turn. The face player goes first and can specify any locations on the board on their first turn. On all subsequent turns the face player can only place a face next to another face (orthogonally), that does not pass through an edge. The edge player can place their four lines anywhere. The game is finished when the face player cannot add a piece or if they cover more than half the board. The game is played on a 8x8 board
(game "Contagion" (players 2) (equipment {(board (rectangle 8 8))}) (rules (start (set Score P2 (mul (count Rows) (count Columns)))) phases:{(phase "InitContagion" P1 (play (move Add (to Cell (sites Empty Cell)) (then (and (if (lt (count MovesThisTurn) (sub 3 1)) (moveAgain)) (addScore {P1 P2} {1 -1}))))) (nextPhase (not (is Next Mover)) "ContagionGrowth")) (phase "ContagionGrowth" P1 (play (move Add (to Cell (sites Empty Cell) if:(not (equals (count Sites in:(sites Around (to) Own Orthogonal if:(equals (count Sites in:(difference (intersection (sites Incident Edge of:Cell at:(from)) (sites Incident Edge of:Cell at:(to))) (sites Empty Edge))) 0))) 0))) (then (and (if (lt (count MovesThisTurn) (sub 3 1)) (moveAgain)) (addScore {P1 P2} {1 -1})))))) (phase "Containment" P2 (play (move Add (to Edge (sites Empty Edge)) (then (if (lt (count MovesThisTurn) (sub 4 1)) (moveAgain))))))} (end {(if (gt (score P1) (div (mul (count Rows) (count Columns)) 2)) (result P1 Win)) (if (no Moves P1) (result P2 Win))}))) 
