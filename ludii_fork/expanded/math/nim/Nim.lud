Essentially, the game consists of a number of objects in "heaps," and players alternate turns taking any number of objects from one of the heaps. This continues until no objects are left, and the last player to remove an object loses. The last mover loses. The game involves 5 piles.
(game "Nim" (players 2) (equipment {(board (rectangle 1 5)) (piece "Marker" Neutral)}) (rules (start {(set Count 3 to:(sites {0 4})) (set Count 4 to:(sites {1 3})) (set Count 5 at:2)}) (play (if (is Prev Mover) (or (move Select (from (last To)) (then (if (equals (count at:(last To)) 1) (remove (last To)) (and (set Count at:(last To) (sub (count at:(last To)) 1)) (moveAgain))))) (move Pass)) (move Select (from (sites Occupied by:Neutral)) (then (if (equals (count at:(last To)) 1) (remove (last To)) (and (set Count at:(last To) (sub (count at:(last To)) 1)) (moveAgain))))))) (end (if (no Moves Next) (result Next Win))))) 
