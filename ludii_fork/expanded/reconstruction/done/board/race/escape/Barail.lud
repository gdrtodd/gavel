The game Barail is played by two players on a 2x13 rectangle board with square tiling. All players play with Discs. The following pieces are shared by all players: Dies with 6 faces valued [1, 2, 3, 4, 5, 6], Dies with 6 faces valued [1, 2, 3, 4, 5, 6] and Dies with 6 faces valued [1, 2, 3, 4, 5, 6]. Rules for Pieces: Discs according to the value of the dice, if the number of pips on the dice steps forward from site the location of the piece on track null is equal to -1, remove pieces at the location of the piece, else from vertex in the location of the piece to vertex the number of pips on the dice steps forward from site the location of the piece on track null moveRule: not there is an enemy Player at to or 1 is equal to the size of the stack on vertex to captureRule: there is an enemy Player at to captureEffect: from vertex in to to vertex Player Player at to's hand site 0 moveRule: true. Players take turns moving. Setup: Place stack of [Disc1] at vertex 15 Place stack of [Disc1] at vertex 14 Place stack of [Disc2] at vertex 13. Rules: If a state is pending or not in the same turn, roll the dice and afterwards if 1 is equal to state variablePlayOpposite, move one of your pieces or move one of your pieces or pass then forget all previously rememberd values and set the variable PlayOpposite to 0 and set pending and move again, else if 0 is equal to the number of moves during this turn, all dice show equal values and 1 is equal to the value of Player the moving player, remember the value 7 minus the face of the die at site 28 and remember the value 7 minus the face of the die at site 28 and afterwards move one of your pieces or move one of your pieces. Aim: If there are no pieces owned by Player the moving player, the moving player wins. The Barail (Ludii 1) ruleset.
(game "Barail" (players 2) (equipment {(board (rectangle 2 13) {(track "Track" {25 24 23 22 21 20 18 17 16 15 14 13 0 1 2 3 4 5 7 8 9 10 11 12 -2} directed:True)} use:Vertex) (dice d:6 num:3) (piece "Disc" Each (forEach Die replayDouble:(equals 1 (value Player Mover)) if:(notEqual (pips) 0) (if (equals (trackSite Move from:(from) steps:(pips)) -1) (move Remove (from)) (move (from (from)) (to (trackSite Move from:(from) steps:(pips)) if:(or (not (is Enemy (who at:(to)))) (equals 1 (size Stack at:(to)))) (apply if:(is Enemy (who at:(to))) (fromTo (from (to)) (to (handSite (who at:(to))))))))) (then (if (not (all DiceUsed)) (moveAgain) (if (equals 1 (value Player Mover)) (if (and (all DiceEqual) (equals 0 (size Array (values Remembered)))) (and (moveAgain) (set Var "PlayOpposite" 1))) (set Value Mover 1))))))}) (rules (start {(place Stack "Disc1" 15 count:1) (place Stack "Disc1" 14 count:14) (place Stack "Disc2" 13 count:15)}) (play (do (if (or (is Pending) (not (is Prev Mover))) (roll)) next:(if (equals 1 (var "PlayOpposite")) (or {(forEach Piece (forEach Value (values Remembered "Opposite") (if (equals (trackSite Move from:(from) steps:(value)) -1) (move Remove (from)) (move (from (from)) (to (trackSite Move from:(from) steps:(value)) if:(or (not (is Enemy (who at:(to)))) (equals 1 (size Stack at:(to)))) (apply (and (if (is Enemy (who at:(to))) (fromTo (from (to)) (to (handSite Next)))) (forget Value "Opposite" (value)))))) (then (if (notEqual 0 (size Array (values Remembered "Opposite"))) (moveAgain) (and {(set Var "PlayOpposite" 0) (set Pending) (moveAgain)}))))) top:True) (forEach Piece container:(mover) (forEach Value (values Remembered "Opposite") (if (equals (trackSite Move from:(from) steps:(value)) -1) (move Remove (from)) (move (from (from)) (to (trackSite Move from:(from) steps:(value)) if:(or (not (is Enemy (who at:(to)))) (equals 1 (size Stack at:(to)))) (apply (and (if (is Enemy (who at:(to))) (fromTo (from (to)) (to (handSite Next)))) (forget Value "Opposite" (value)))))) (then (if (notEqual 0 (size Array (values Remembered "Opposite"))) (moveAgain) (and {(set Var "PlayOpposite" 0) (set Pending) (moveAgain)}))))) top:True) (move Pass (then (and {(forget Value "Opposite" All) (set Var "PlayOpposite" 0) (set Pending) (moveAgain)})))}) (do (if (and {(equals 0 (count MovesThisTurn)) (all DiceEqual) (equals 1 (value Player Mover))}) (and (remember Value "Opposite" (sub 7 (face 28))) (remember Value "Opposite" (sub 7 (face 28))))) next:(or (forEach Piece top:True) (forEach Piece container:(mover) top:True)))))) (end (if (no Pieces Mover) (result Mover Win))))) 
