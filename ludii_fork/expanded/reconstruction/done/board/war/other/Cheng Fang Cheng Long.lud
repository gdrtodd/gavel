The game Cheng Fang Cheng Long is played by two players on a 5x5 rectangle board with square tiling. All players play with Markers. Rules for Pieces: Markers step adjacent then if the number of sites in if empty then the to location of the last move is in sites [ the Vertex 1 steps ahead of current site in the direction north, the Vertex 1 steps ahead of current site in the direction south, the Vertex 1 steps ahead of current site in the direction west, the Vertex 1 steps ahead of current site in the direction east], Player at the Vertex 1 steps ahead of current site in the direction north is the mover, Player at the Vertex 1 steps ahead of current site in the direction south is the mover, Player at the Vertex 1 steps ahead of current site in the direction west is the mover and Player at the Vertex 1 steps ahead of current site in the direction east is the mover or the to location of the last move is in sites [ the Vertex 1 steps ahead of current site in the direction ne, the Vertex 1 steps ahead of current site in the direction se, the Vertex 1 steps ahead of current site in the direction sw, the Vertex 1 steps ahead of current site in the direction nw], Player at the Vertex 1 steps ahead of current site in the direction ne is the mover, Player at the Vertex 1 steps ahead of current site in the direction se is the mover, Player at the Vertex 1 steps ahead of current site in the direction sw is the mover and Player at the Vertex 1 steps ahead of current site in the direction nw is the mover the number of sites within 1 spaces of the to location of the last move includeOrigin: false is greater than 0, set the value of Player the moving player to the number of sites in if empty then the to location of the last move is in sites [ the Vertex 1 steps ahead of current site in the direction north, the Vertex 1 steps ahead of current site in the direction south, the Vertex 1 steps ahead of current site in the direction west, the Vertex 1 steps ahead of current site in the direction east], Player at the Vertex 1 steps ahead of current site in the direction north is the mover, Player at the Vertex 1 steps ahead of current site in the direction south is the mover, Player at the Vertex 1 steps ahead of current site in the direction west is the mover and Player at the Vertex 1 steps ahead of current site in the direction east is the mover or the to location of the last move is in sites [ the Vertex 1 steps ahead of current site in the direction ne, the Vertex 1 steps ahead of current site in the direction se, the Vertex 1 steps ahead of current site in the direction sw, the Vertex 1 steps ahead of current site in the direction nw], Player at the Vertex 1 steps ahead of current site in the direction ne is the mover, Player at the Vertex 1 steps ahead of current site in the direction se is the mover, Player at the Vertex 1 steps ahead of current site in the direction sw is the mover and Player at the Vertex 1 steps ahead of current site in the direction nw is the mover the number of sites within 1 spaces of the to location of the last move includeOrigin: false and move again. Players take turns moving. Rules: From vertex in Player the moving player's hand site 0 to vertex in the centre sites of the board moveRule: true from vertex in Player the moving player's hand site 0 to vertex in the set of empty vertexs moveRule: true if in the same turn, remove pieces at sites occupied by any component owned by Next then if the value of Player the moving player is greater than 1, move again and set the value of Player the moving player to the value of Player the moving player minus 1, else set the value of Player the moving player to 0, else move one of your pieces. Aim: If there are no pieces owned by Player the next player, the next player loses. The Cheng Fang Cheng Long (Ludii 1) ruleset.
(game "Cheng Fang Cheng Long" (players 2) (equipment {(board (square 5) use:Vertex) (piece "Marker" Each (move Step (to if:(is Empty (to))) (then (if (gt (count Sites in:(forEach (sites Around (last To)) if:(if (is Empty (site)) (or (and {(is In (last To) (sites {(ahead (site) N) (ahead (site) S) (ahead (site) W) (ahead (site) E)})) (is Mover (who at:(ahead (site) N))) (is Mover (who at:(ahead (site) S))) (is Mover (who at:(ahead (site) W))) (is Mover (who at:(ahead (site) E)))}) (and {(is In (last To) (sites {(ahead (site) NE) (ahead (site) SE) (ahead (site) SW) (ahead (site) NW)})) (is Mover (who at:(ahead (site) NE))) (is Mover (who at:(ahead (site) SE))) (is Mover (who at:(ahead (site) SW))) (is Mover (who at:(ahead (site) NW)))}))))) 0) (and (set Value Mover (count Sites in:(forEach (sites Around (last To)) if:(if (is Empty (site)) (or (and {(is In (last To) (sites {(ahead (site) N) (ahead (site) S) (ahead (site) W) (ahead (site) E)})) (is Mover (who at:(ahead (site) N))) (is Mover (who at:(ahead (site) S))) (is Mover (who at:(ahead (site) W))) (is Mover (who at:(ahead (site) E)))}) (and {(is In (last To) (sites {(ahead (site) NE) (ahead (site) SE) (ahead (site) SW) (ahead (site) NW)})) (is Mover (who at:(ahead (site) NE))) (is Mover (who at:(ahead (site) SE))) (is Mover (who at:(ahead (site) SW))) (is Mover (who at:(ahead (site) NW)))})))))) (moveAgain)))))) (hand Each)}) (rules (start (place "Marker" "Hand" count:24)) phases:{(phase "FirstPlacement" P1 (play (move (from (handSite Mover)) (to (sites Centre)))) (nextPhase "Placement")) (phase "Placement" (play (move (from (handSite Mover)) (to (sites Empty)))) (nextPhase Mover (all Sites (sites Hand Mover) if:(equals 0 (count Cell at:(site)))) "Playing")) (phase "Playing" (play (if (is Prev Mover) (move Remove (sites Occupied by:Next) (then (if (gt (value Player Mover) 1) (and (moveAgain) (set Value Mover (sub (value Player Mover) 1))) (set Value Mover 0)))) (forEach Piece))))} (end (if (no Pieces Next) (result Next Loss))))) 
