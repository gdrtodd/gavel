The game Shakhmaty (Early Modern) is played by two players on a 8x8 rectangle board with square tiling. Regions: RegionP1: the bottom sites of the board for P1 RegionP1: the bottom sites of the board for P1 All players play with Kings, Queens, Knights, Pawns, Rooks and Bishops. Rules for Pieces: Bishops if Player Player at the location of the piece is active, slide from the location of the piece in the diagonal direction through [between] is in the set of empty cells. Kings if Player Player at the location of the piece is active, if there is an enemy Player at to, remove pieces at to then step orthogonal or if there is an enemy Player at to, remove pieces at to then step diagonal. Knights leap a piece to not is a friend. Pawns if Player Player at the location of the piece is active, if the location of the piece is in start position, slide from the location of the piece in the forward direction through empty or step forward or remove pieces at to then step forward-right or forward-left if the to location of the last move is in , move again. Queens slide from the location of the piece in the adjacent direction through [between] is in the set of empty cells or leap a piece to not is a friend. Rooks if Player Player at the location of the piece is active, slide from the location of the piece in the orthogonal direction through [between] is in the set of empty cells. Players take turns moving. Setup: Place a Pawn for player one at each cell of the 1 row. Place a Pawn for player two at each cell of the 6 row. Place a Rook for player one on sites: A1 and H1. Place a Knight for player one on sites: B1 and G1. Place a Bishop for player one on sites: C1 and F1. Place a Queen for player one on site D1. Place a King for player one on site E1. Place a Rook for player two on sites: A8 and H8. Place a Knight for player two on sites: B8 and G8. Place a Bishop for player two on sites: C8 and F8. Place a Queen for player two on site D8. Place a King for player two on site E8.. Rules: Move one of your pieces then set the value of Player the moving player to add the following values: [1,the value of Player the moving player] and if the value of Player the moving player is not equal to 1, move again if in the same turn, a piece of the moving player the to location of the last move, this piece can promote into Queen, Knight, Bishop or Rook, else move one of your pieces. Aim: If King of the next player is threatened and not can move move one of your pieces, the moving player wins. The Shakhmaty (Early Modern) (Ludii 1) ruleset.
(game "Shakhmaty (Early Modern)" (players {(player N) (player S)}) (equipment {(board (square 8)) (piece "King" Each (if (is Active (who at:(from))) (or (move Step Orthogonal (to if:(and (not (is Friend (who at:(to)))) (all Sites (intersection (sites Incident Edge of:Cell at:(from)) (sites Incident Edge of:Cell at:(to))) if:(is Empty Edge (site)))) (apply (if (is Enemy (who at:(to))) (remove (to)))))) (move Step Diagonal (to if:(and (not (is Friend (who at:(to)))) (all Sites (intersection (sites Incident Vertex of:Cell at:(from)) (sites Incident Vertex of:Cell at:(to))) if:(all Sites (sites Incident Edge of:Vertex at:(site)) if:(is Empty Edge (site))))) (apply (if (is Enemy (who at:(to))) (remove (to))))))))) (piece "Queen" Each (or (move Slide (to if:(is Enemy (who at:(to))) (apply (if (is Enemy (who at:(to))) (remove (to)))))) (move Leap {{F F R F} {F F L F}} (to if:(not (is Friend (who at:(to)))) (apply (if (is Enemy (who at:(to))) (remove (to)))))))) (piece "Knight" Each (move Leap {{F F R F} {F F L F}} (to if:(not (is Friend (who at:(to)))) (apply (if (is Enemy (who at:(to))) (remove (to))))))) (piece "Pawn" Each (if (is Active (who at:(from))) (or {(if (is In (from) (sites Start (piece (what at:(from))))) (move Slide Forward (between (exact 2) if:(is Empty (between))) (to if:(is Empty (to))))) (move Step Forward (to if:(and (is Empty (to)) (all Sites (intersection (sites Incident Edge of:Cell at:(from)) (sites Incident Edge of:Cell at:(to))) if:(is Empty Edge (site)))))) (move Step (directions {FR FL}) (to if:(and (is Enemy (who at:(to))) (all Sites (intersection (sites Incident Vertex of:Cell at:(from)) (sites Incident Vertex of:Cell at:(to))) if:(all Sites (sites Incident Edge of:Vertex at:(site)) if:(is Empty Edge (site))))) (apply (remove (to)))))} (then (if (is In (last To) (sites Mover "Promotion")) (moveAgain)))))) (piece "Rook" Each (if (is Active (who at:(from))) (move Slide Orthogonal (to if:(is Enemy (who at:(to))) (apply if:(all Sites (sites Between (directions Cell from:(from) to:(to)) from:(from) fromIncluded:True to:(to)) if:(not (not (all Sites (intersection (sites Incident Edge of:Cell at:(site)) (sites Incident Edge of:Cell at:(ahead (site) (directions Cell from:(from) to:(to))))) if:(is Empty Edge (site)))))) (if (is Enemy (who at:(to))) (remove (to)))))))) (piece "Bishop" Each (if (is Active (who at:(from))) (move Slide Diagonal (to if:(is Enemy (who at:(to))) (apply if:(all Sites (sites Between (directions Cell from:(from) to:(to)) from:(from) fromIncluded:True to:(to)) if:(not (not (all Sites (intersection (sites Incident Vertex of:Cell at:(site)) (sites Incident Vertex of:Cell at:(ahead (site) (directions Cell from:(from) to:(to))))) if:(all Sites (sites Incident Edge of:Vertex at:(site)) if:(is Empty Edge (site))))))) (if (is Enemy (who at:(to))) (remove (to)))))))) (map {(pair P1 FirstSite) (pair P2 LastSite)}) (map "King" {(pair 1 "E1") (pair 2 "E8")}) (map {(pair P1 FirstSite) (pair P2 LastSite)}) (regions P1 (sites Bottom)) (regions P1 (sites Bottom))}) (rules (start {(place "Pawn1" (sites Row 1)) (place "Pawn2" (sites Row 6)) (place "Rook1" {"A1" "H1"}) (place "Knight1" {"B1" "G1"}) (place "Bishop1" {"C1" "F1"}) (place "Queen1" coord:"D1") (place "King1" coord:"E1") (place "Rook2" {"A8" "H8"}) (place "Knight2" {"B8" "G8"}) (place "Bishop2" {"C8" "F8"}) (place "Queen2" coord:"D8") (place "King2" coord:"E8")}) phases:{(phase "Opening" (play (do (forEach Piece) ifAfterwards:(not (is Threatened (id "King" Mover))) (then (and (set Value Mover (add 1 (value Player Mover))) (if (notEqual (value Player Mover) 1) (moveAgain)))))) (nextPhase Mover (equals 2 (value Player Mover)) "Playing")) (phase "Playing" (play (if (is Prev Mover) (move Promote (last To) (piece {"Queen" "Knight" "Bishop" "Rook"}) Mover) (do (forEach Piece) ifAfterwards:(not (is Threatened (id "King" Mover)))))))} (end (if (and (is Threatened (id "King" Next)) (not (can Move (do (forEach Piece Next) ifAfterwards:(not (is Threatened (id "King" Next))))))) (result Mover Win))))) 
